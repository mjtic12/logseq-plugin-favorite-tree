(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const v of c.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&s(v)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cr={exports:{}};/*! For license information please see lsplugin.user.js.LICENSE.txt */cr.exports;(function(n,r){(function(i,s){n.exports=s()})(self,()=>(()=>{var i={227:(v,p,b)=>{var k=b(155);p.formatArgs=function(O){if(O[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+O[0]+(this.useColors?"%c ":" ")+"+"+v.exports.humanize(this.diff),!this.useColors)return;const x="color: "+this.color;O.splice(1,0,x,"color: inherit");let _=0,g=0;O[0].replace(/%[a-zA-Z%]/g,A=>{A!=="%%"&&(_++,A==="%c"&&(g=_))}),O.splice(g,0,x)},p.save=function(O){try{O?p.storage.setItem("debug",O):p.storage.removeItem("debug")}catch{}},p.load=function(){let O;try{O=p.storage.getItem("debug")}catch{}return!O&&k!==void 0&&"env"in k&&(O=k.env.DEBUG),O},p.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},p.storage=function(){try{return localStorage}catch{}}(),p.destroy=(()=>{let O=!1;return()=>{O||(O=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),p.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],p.log=console.debug||console.log||(()=>{}),v.exports=b(447)(p);const{formatters:u}=v.exports;u.j=function(O){try{return JSON.stringify(O)}catch(x){return"[UnexpectedJSONParseError]: "+x.message}}},447:(v,p,b)=>{v.exports=function(k){function u(_){let g,A,S,$=null;function P(...B){if(!P.enabled)return;const J=P,M=Number(new Date),z=M-(g||M);J.diff=z,J.prev=g,J.curr=M,g=M,B[0]=u.coerce(B[0]),typeof B[0]!="string"&&B.unshift("%O");let h=0;B[0]=B[0].replace(/%([a-zA-Z%])/g,(y,T)=>{if(y==="%%")return"%";h++;const R=u.formatters[T];if(typeof R=="function"){const Y=B[h];y=R.call(J,Y),B.splice(h,1),h--}return y}),u.formatArgs.call(J,B),(J.log||u.log).apply(J,B)}return P.namespace=_,P.useColors=u.useColors(),P.color=u.selectColor(_),P.extend=O,P.destroy=u.destroy,Object.defineProperty(P,"enabled",{enumerable:!0,configurable:!1,get:()=>$!==null?$:(A!==u.namespaces&&(A=u.namespaces,S=u.enabled(_)),S),set:B=>{$=B}}),typeof u.init=="function"&&u.init(P),P}function O(_,g){const A=u(this.namespace+(g===void 0?":":g)+_);return A.log=this.log,A}function x(_){return _.toString().substring(2,_.toString().length-2).replace(/\.\*\?$/,"*")}return u.debug=u,u.default=u,u.coerce=function(_){return _ instanceof Error?_.stack||_.message:_},u.disable=function(){const _=[...u.names.map(x),...u.skips.map(x).map(g=>"-"+g)].join(",");return u.enable(""),_},u.enable=function(_){let g;u.save(_),u.namespaces=_,u.names=[],u.skips=[];const A=(typeof _=="string"?_:"").split(/[\s,]+/),S=A.length;for(g=0;g<S;g++)A[g]&&((_=A[g].replace(/\*/g,".*?"))[0]==="-"?u.skips.push(new RegExp("^"+_.slice(1)+"$")):u.names.push(new RegExp("^"+_+"$")))},u.enabled=function(_){if(_[_.length-1]==="*")return!0;let g,A;for(g=0,A=u.skips.length;g<A;g++)if(u.skips[g].test(_))return!1;for(g=0,A=u.names.length;g<A;g++)if(u.names[g].test(_))return!0;return!1},u.humanize=b(824),u.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(k).forEach(_=>{u[_]=k[_]}),u.names=[],u.skips=[],u.formatters={},u.selectColor=function(_){let g=0;for(let A=0;A<_.length;A++)g=(g<<5)-g+_.charCodeAt(A),g|=0;return u.colors[Math.abs(g)%u.colors.length]},u.enable(u.load()),u}},856:function(v){v.exports=function(){function p(N){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},p(N)}function b(N,D){return b=Object.setPrototypeOf||function(Z,te){return Z.__proto__=te,Z},b(N,D)}function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u(N,D,Z){return u=k()?Reflect.construct:function(te,le,Re){var Xe=[null];Xe.push.apply(Xe,le);var Me=new(Function.bind.apply(te,Xe));return Re&&b(Me,Re.prototype),Me},u.apply(null,arguments)}function O(N){return x(N)||_(N)||g(N)||S()}function x(N){if(Array.isArray(N))return A(N)}function _(N){if(typeof Symbol<"u"&&N[Symbol.iterator]!=null||N["@@iterator"]!=null)return Array.from(N)}function g(N,D){if(N){if(typeof N=="string")return A(N,D);var Z=Object.prototype.toString.call(N).slice(8,-1);return Z==="Object"&&N.constructor&&(Z=N.constructor.name),Z==="Map"||Z==="Set"?Array.from(N):Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z)?A(N,D):void 0}}function A(N,D){(D==null||D>N.length)&&(D=N.length);for(var Z=0,te=new Array(D);Z<D;Z++)te[Z]=N[Z];return te}function S(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $=Object.hasOwnProperty,P=Object.setPrototypeOf,B=Object.isFrozen,J=Object.getPrototypeOf,M=Object.getOwnPropertyDescriptor,z=Object.freeze,h=Object.seal,y=Object.create,T=typeof Reflect<"u"&&Reflect,R=T.apply,Y=T.construct;R||(R=function(N,D,Z){return N.apply(D,Z)}),z||(z=function(N){return N}),h||(h=function(N){return N}),Y||(Y=function(N,D){return u(N,O(D))});var re=ie(Array.prototype.forEach),ce=ie(Array.prototype.pop),ve=ie(Array.prototype.push),Ce=ie(String.prototype.toLowerCase),Se=ie(String.prototype.match),_e=ie(String.prototype.replace),Pe=ie(String.prototype.indexOf),E=ie(String.prototype.trim),I=ie(RegExp.prototype.test),W=Ee(TypeError);function ie(N){return function(D){for(var Z=arguments.length,te=new Array(Z>1?Z-1:0),le=1;le<Z;le++)te[le-1]=arguments[le];return R(N,D,te)}}function Ee(N){return function(){for(var D=arguments.length,Z=new Array(D),te=0;te<D;te++)Z[te]=arguments[te];return Y(N,Z)}}function V(N,D){P&&P(N,null);for(var Z=D.length;Z--;){var te=D[Z];if(typeof te=="string"){var le=Ce(te);le!==te&&(B(D)||(D[Z]=le),te=le)}N[te]=!0}return N}function X(N){var D,Z=y(null);for(D in N)R($,N,[D])&&(Z[D]=N[D]);return Z}function fe(N,D){for(;N!==null;){var Z=M(N,D);if(Z){if(Z.get)return ie(Z.get);if(typeof Z.value=="function")return ie(Z.value)}N=J(N)}function te(le){return console.warn("fallback value for",le),null}return te}var Ie=z(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Oe=z(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Be=z(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ut=z(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),me=z(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),pe=z(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ae=z(["#text"]),Te=z(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ne=z(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Fe=z(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),De=z(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Yt=h(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Pt=h(/<%[\w\W]*|[\w\W]*%>/gm),hr=h(/^data-[\-\w.\u00B7-\uFFFF]/),_r=h(/^aria-[\-\w]+$/),mr=h(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),gr=h(/^(?:\w+script|data):/i),ft=h(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Nn=h(/^html$/i),vr=function(){return typeof window>"u"?null:window},yr=function(N,D){if(p(N)!=="object"||typeof N.createPolicy!="function")return null;var Z=null,te="data-tt-policy-suffix";D.currentScript&&D.currentScript.hasAttribute(te)&&(Z=D.currentScript.getAttribute(te));var le="dompurify"+(Z?"#"+Z:"");try{return N.createPolicy(le,{createHTML:function(Re){return Re}})}catch{return console.warn("TrustedTypes policy "+le+" could not be created."),null}};function wt(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vr(),D=function(f){return wt(f)};if(D.version="2.3.8",D.removed=[],!N||!N.document||N.document.nodeType!==9)return D.isSupported=!1,D;var Z=N.document,te=N.document,le=N.DocumentFragment,Re=N.HTMLTemplateElement,Xe=N.Node,Me=N.Element,et=N.NodeFilter,kt=N.NamedNodeMap,Ft=kt===void 0?N.NamedNodeMap||N.MozNamedAttrMap:kt,Xt=N.HTMLFormElement,$n=N.DOMParser,Pn=N.trustedTypes,xt=Me.prototype,Fn=fe(xt,"cloneNode"),Rn=fe(xt,"nextSibling"),br=fe(xt,"childNodes"),pt=fe(xt,"parentNode");if(typeof Re=="function"){var en=te.createElement("template");en.content&&en.content.ownerDocument&&(te=en.content.ownerDocument)}var We=yr(Pn,Z),Mn=We?We.createHTML(""):"",Ct=te,tn=Ct.implementation,Dn=Ct.createNodeIterator,Un=Ct.createDocumentFragment,wr=Ct.getElementsByTagName,nn=Z.importNode,qn={};try{qn=X(te).documentMode?te.documentMode:{}}catch{}var we={};D.isSupported=typeof pt=="function"&&tn&&tn.createHTMLDocument!==void 0&&qn!==9;var dt,Ge,rn=Yt,on=Pt,Rt=hr,$e=_r,an=gr,St=ft,sn=mr,ye=null,cn=V({},[].concat(O(Ie),O(Oe),O(Be),O(me),O(Ae))),be=null,ln=V({},[].concat(O(Te),O(Ne),O(Fe),O(De))),ue=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Et=null,un=null,fn=!0,pn=!0,zn=!1,ht=!1,oe=!1,dn=!1,hn=!1,tt=!1,Ve=!1,_t=!1,_n=!0,Mt=!0,nt=!1,Je={},mt=null,Hn=V({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Bn=null,Wn=V({},["audio","video","img","source","image","track"]),mn=null,Dt=V({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),gn="http://www.w3.org/1998/Math/MathML",Ut="http://www.w3.org/2000/svg",Ke="http://www.w3.org/1999/xhtml",qt=Ke,Gn=!1,Vn=["application/xhtml+xml","text/html"],kr="text/html",gt=null,xr=te.createElement("form"),zt=function(f){return f instanceof RegExp||f instanceof Function},vn=function(f){gt&&gt===f||(f&&p(f)==="object"||(f={}),f=X(f),ye="ALLOWED_TAGS"in f?V({},f.ALLOWED_TAGS):cn,be="ALLOWED_ATTR"in f?V({},f.ALLOWED_ATTR):ln,mn="ADD_URI_SAFE_ATTR"in f?V(X(Dt),f.ADD_URI_SAFE_ATTR):Dt,Bn="ADD_DATA_URI_TAGS"in f?V(X(Wn),f.ADD_DATA_URI_TAGS):Wn,mt="FORBID_CONTENTS"in f?V({},f.FORBID_CONTENTS):Hn,Et="FORBID_TAGS"in f?V({},f.FORBID_TAGS):{},un="FORBID_ATTR"in f?V({},f.FORBID_ATTR):{},Je="USE_PROFILES"in f&&f.USE_PROFILES,fn=f.ALLOW_ARIA_ATTR!==!1,pn=f.ALLOW_DATA_ATTR!==!1,zn=f.ALLOW_UNKNOWN_PROTOCOLS||!1,ht=f.SAFE_FOR_TEMPLATES||!1,oe=f.WHOLE_DOCUMENT||!1,tt=f.RETURN_DOM||!1,Ve=f.RETURN_DOM_FRAGMENT||!1,_t=f.RETURN_TRUSTED_TYPE||!1,hn=f.FORCE_BODY||!1,_n=f.SANITIZE_DOM!==!1,Mt=f.KEEP_CONTENT!==!1,nt=f.IN_PLACE||!1,sn=f.ALLOWED_URI_REGEXP||sn,qt=f.NAMESPACE||Ke,f.CUSTOM_ELEMENT_HANDLING&&zt(f.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ue.tagNameCheck=f.CUSTOM_ELEMENT_HANDLING.tagNameCheck),f.CUSTOM_ELEMENT_HANDLING&&zt(f.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ue.attributeNameCheck=f.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),f.CUSTOM_ELEMENT_HANDLING&&typeof f.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ue.allowCustomizedBuiltInElements=f.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),dt=dt=Vn.indexOf(f.PARSER_MEDIA_TYPE)===-1?kr:f.PARSER_MEDIA_TYPE,Ge=dt==="application/xhtml+xml"?function(F){return F}:Ce,ht&&(pn=!1),Ve&&(tt=!0),Je&&(ye=V({},O(Ae)),be=[],Je.html===!0&&(V(ye,Ie),V(be,Te)),Je.svg===!0&&(V(ye,Oe),V(be,Ne),V(be,De)),Je.svgFilters===!0&&(V(ye,Be),V(be,Ne),V(be,De)),Je.mathMl===!0&&(V(ye,me),V(be,Fe),V(be,De))),f.ADD_TAGS&&(ye===cn&&(ye=X(ye)),V(ye,f.ADD_TAGS)),f.ADD_ATTR&&(be===ln&&(be=X(be)),V(be,f.ADD_ATTR)),f.ADD_URI_SAFE_ATTR&&V(mn,f.ADD_URI_SAFE_ATTR),f.FORBID_CONTENTS&&(mt===Hn&&(mt=X(mt)),V(mt,f.FORBID_CONTENTS)),Mt&&(ye["#text"]=!0),oe&&V(ye,["html","head","body"]),ye.table&&(V(ye,["tbody"]),delete Et.tbody),z&&z(f),gt=f)},yn=V({},["mi","mo","mn","ms","mtext"]),Jn=V({},["foreignobject","desc","title","annotation-xml"]),Cr=V({},["title","style","font","a","script"]),Ht=V({},Oe);V(Ht,Be),V(Ht,ut);var bn=V({},me);V(bn,pe);var Sr=function(f){var F=pt(f);F&&F.tagName||(F={namespaceURI:Ke,tagName:"template"});var L=Ce(f.tagName),ae=Ce(F.tagName);return f.namespaceURI===Ut?F.namespaceURI===Ke?L==="svg":F.namespaceURI===gn?L==="svg"&&(ae==="annotation-xml"||yn[ae]):!!Ht[L]:f.namespaceURI===gn?F.namespaceURI===Ke?L==="math":F.namespaceURI===Ut?L==="math"&&Jn[ae]:!!bn[L]:f.namespaceURI===Ke&&!(F.namespaceURI===Ut&&!Jn[ae])&&!(F.namespaceURI===gn&&!yn[ae])&&!bn[L]&&(Cr[L]||!Ht[L])},Ue=function(f){ve(D.removed,{element:f});try{f.parentNode.removeChild(f)}catch{try{f.outerHTML=Mn}catch{f.remove()}}},Kn=function(f,F){try{ve(D.removed,{attribute:F.getAttributeNode(f),from:F})}catch{ve(D.removed,{attribute:null,from:F})}if(F.removeAttribute(f),f==="is"&&!be[f])if(tt||Ve)try{Ue(F)}catch{}else try{F.setAttribute(f,"")}catch{}},Zn=function(f){var F,L;if(hn)f="<remove></remove>"+f;else{var ae=Se(f,/^[\r\n\t ]+/);L=ae&&ae[0]}dt==="application/xhtml+xml"&&(f='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+f+"</body></html>");var de=We?We.createHTML(f):f;if(qt===Ke)try{F=new $n().parseFromString(de,dt)}catch{}if(!F||!F.documentElement){F=tn.createDocument(qt,"template",null);try{F.documentElement.innerHTML=Gn?"":de}catch{}}var ke=F.body||F.documentElement;return f&&L&&ke.insertBefore(te.createTextNode(L),ke.childNodes[0]||null),qt===Ke?wr.call(F,oe?"html":"body")[0]:oe?F.documentElement:ke},Ot=function(f){return Dn.call(f.ownerDocument||f,f,et.SHOW_ELEMENT|et.SHOW_COMMENT|et.SHOW_TEXT,null,!1)},Er=function(f){return f instanceof Xt&&(typeof f.nodeName!="string"||typeof f.textContent!="string"||typeof f.removeChild!="function"||!(f.attributes instanceof Ft)||typeof f.removeAttribute!="function"||typeof f.setAttribute!="function"||typeof f.namespaceURI!="string"||typeof f.insertBefore!="function")},At=function(f){return p(Xe)==="object"?f instanceof Xe:f&&p(f)==="object"&&typeof f.nodeType=="number"&&typeof f.nodeName=="string"},qe=function(f,F,L){we[f]&&re(we[f],function(ae){ae.call(D,F,L,gt)})},wn=function(f){var F;if(qe("beforeSanitizeElements",f,null),Er(f)||I(/[\u0080-\uFFFF]/,f.nodeName))return Ue(f),!0;var L=Ge(f.nodeName);if(qe("uponSanitizeElement",f,{tagName:L,allowedTags:ye}),f.hasChildNodes()&&!At(f.firstElementChild)&&(!At(f.content)||!At(f.content.firstElementChild))&&I(/<[/\w]/g,f.innerHTML)&&I(/<[/\w]/g,f.textContent)||L==="select"&&I(/<template/i,f.innerHTML))return Ue(f),!0;if(!ye[L]||Et[L]){if(!Et[L]&&kn(L)&&(ue.tagNameCheck instanceof RegExp&&I(ue.tagNameCheck,L)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(L)))return!1;if(Mt&&!mt[L]){var ae=pt(f)||f.parentNode,de=br(f)||f.childNodes;if(de&&ae)for(var ke=de.length-1;ke>=0;--ke)ae.insertBefore(Fn(de[ke],!0),Rn(f))}return Ue(f),!0}return f instanceof Me&&!Sr(f)?(Ue(f),!0):L!=="noscript"&&L!=="noembed"||!I(/<\/no(script|embed)/i,f.innerHTML)?(ht&&f.nodeType===3&&(F=f.textContent,F=_e(F,rn," "),F=_e(F,on," "),f.textContent!==F&&(ve(D.removed,{element:f.cloneNode()}),f.textContent=F)),qe("afterSanitizeElements",f,null),!1):(Ue(f),!0)},Qn=function(f,F,L){if(_n&&(F==="id"||F==="name")&&(L in te||L in xr))return!1;if(!(pn&&!un[F]&&I(Rt,F))){if(!(fn&&I($e,F))){if(!be[F]||un[F]){if(!(kn(f)&&(ue.tagNameCheck instanceof RegExp&&I(ue.tagNameCheck,f)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(f))&&(ue.attributeNameCheck instanceof RegExp&&I(ue.attributeNameCheck,F)||ue.attributeNameCheck instanceof Function&&ue.attributeNameCheck(F))||F==="is"&&ue.allowCustomizedBuiltInElements&&(ue.tagNameCheck instanceof RegExp&&I(ue.tagNameCheck,L)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(L))))return!1}else if(!mn[F]){if(!I(sn,_e(L,St,""))){if((F!=="src"&&F!=="xlink:href"&&F!=="href"||f==="script"||Pe(L,"data:")!==0||!Bn[f])&&!(zn&&!I(an,_e(L,St,"")))){if(L)return!1}}}}}return!0},kn=function(f){return f.indexOf("-")>0},Tt=function(f){var F,L,ae,de;qe("beforeSanitizeAttributes",f,null);var ke=f.attributes;if(ke){var xe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:be};for(de=ke.length;de--;){var jt=F=ke[de],ze=jt.name,ne=jt.namespaceURI;if(L=ze==="value"?F.value:E(F.value),ae=Ge(ze),xe.attrName=ae,xe.attrValue=L,xe.keepAttr=!0,xe.forceKeepAttr=void 0,qe("uponSanitizeAttribute",f,xe),L=xe.attrValue,!xe.forceKeepAttr&&(Kn(ze,f),xe.keepAttr))if(I(/\/>/i,L))Kn(ze,f);else{ht&&(L=_e(L,rn," "),L=_e(L,on," "));var rt=Ge(f.nodeName);if(Qn(rt,ae,L))try{ne?f.setAttributeNS(ne,ze,L):f.setAttribute(ze,L),ce(D.removed)}catch{}}}qe("afterSanitizeAttributes",f,null)}},xn=function f(F){var L,ae=Ot(F);for(qe("beforeSanitizeShadowDOM",F,null);L=ae.nextNode();)qe("uponSanitizeShadowNode",L,null),wn(L)||(L.content instanceof le&&f(L.content),Tt(L));qe("afterSanitizeShadowDOM",F,null)};return D.sanitize=function(f,F){var L,ae,de,ke,xe;if((Gn=!f)&&(f="<!-->"),typeof f!="string"&&!At(f)){if(typeof f.toString!="function")throw W("toString is not a function");if(typeof(f=f.toString())!="string")throw W("dirty is not a string, aborting")}if(!D.isSupported){if(p(N.toStaticHTML)==="object"||typeof N.toStaticHTML=="function"){if(typeof f=="string")return N.toStaticHTML(f);if(At(f))return N.toStaticHTML(f.outerHTML)}return f}if(dn||vn(F),D.removed=[],typeof f=="string"&&(nt=!1),nt){if(f.nodeName){var jt=Ge(f.nodeName);if(!ye[jt]||Et[jt])throw W("root node is forbidden and cannot be sanitized in-place")}}else if(f instanceof Xe)(ae=(L=Zn("<!---->")).ownerDocument.importNode(f,!0)).nodeType===1&&ae.nodeName==="BODY"||ae.nodeName==="HTML"?L=ae:L.appendChild(ae);else{if(!tt&&!ht&&!oe&&f.indexOf("<")===-1)return We&&_t?We.createHTML(f):f;if(!(L=Zn(f)))return tt?null:_t?Mn:""}L&&hn&&Ue(L.firstChild);for(var ze=Ot(nt?f:L);de=ze.nextNode();)de.nodeType===3&&de===ke||wn(de)||(de.content instanceof le&&xn(de.content),Tt(de),ke=de);if(ke=null,nt)return f;if(tt){if(Ve)for(xe=Un.call(L.ownerDocument);L.firstChild;)xe.appendChild(L.firstChild);else xe=L;return be.shadowroot&&(xe=nn.call(Z,xe,!0)),xe}var ne=oe?L.outerHTML:L.innerHTML;return oe&&ye["!doctype"]&&L.ownerDocument&&L.ownerDocument.doctype&&L.ownerDocument.doctype.name&&I(Nn,L.ownerDocument.doctype.name)&&(ne="<!DOCTYPE "+L.ownerDocument.doctype.name+`>
`+ne),ht&&(ne=_e(ne,rn," "),ne=_e(ne,on," ")),We&&_t?We.createHTML(ne):ne},D.setConfig=function(f){vn(f),dn=!0},D.clearConfig=function(){gt=null,dn=!1},D.isValidAttribute=function(f,F,L){gt||vn({});var ae=Ge(f),de=Ge(F);return Qn(ae,de,L)},D.addHook=function(f,F){typeof F=="function"&&(we[f]=we[f]||[],ve(we[f],F))},D.removeHook=function(f){if(we[f])return ce(we[f])},D.removeHooks=function(f){we[f]&&(we[f]=[])},D.removeAllHooks=function(){we={}},D}return wt()}()},729:v=>{var p=Object.prototype.hasOwnProperty,b="~";function k(){}function u(g,A,S){this.fn=g,this.context=A,this.once=S||!1}function O(g,A,S,$,P){if(typeof S!="function")throw new TypeError("The listener must be a function");var B=new u(S,$||g,P),J=b?b+A:A;return g._events[J]?g._events[J].fn?g._events[J]=[g._events[J],B]:g._events[J].push(B):(g._events[J]=B,g._eventsCount++),g}function x(g,A){--g._eventsCount==0?g._events=new k:delete g._events[A]}function _(){this._events=new k,this._eventsCount=0}Object.create&&(k.prototype=Object.create(null),new k().__proto__||(b=!1)),_.prototype.eventNames=function(){var g,A,S=[];if(this._eventsCount===0)return S;for(A in g=this._events)p.call(g,A)&&S.push(b?A.slice(1):A);return Object.getOwnPropertySymbols?S.concat(Object.getOwnPropertySymbols(g)):S},_.prototype.listeners=function(g){var A=b?b+g:g,S=this._events[A];if(!S)return[];if(S.fn)return[S.fn];for(var $=0,P=S.length,B=new Array(P);$<P;$++)B[$]=S[$].fn;return B},_.prototype.listenerCount=function(g){var A=b?b+g:g,S=this._events[A];return S?S.fn?1:S.length:0},_.prototype.emit=function(g,A,S,$,P,B){var J=b?b+g:g;if(!this._events[J])return!1;var M,z,h=this._events[J],y=arguments.length;if(h.fn){switch(h.once&&this.removeListener(g,h.fn,void 0,!0),y){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,A),!0;case 3:return h.fn.call(h.context,A,S),!0;case 4:return h.fn.call(h.context,A,S,$),!0;case 5:return h.fn.call(h.context,A,S,$,P),!0;case 6:return h.fn.call(h.context,A,S,$,P,B),!0}for(z=1,M=new Array(y-1);z<y;z++)M[z-1]=arguments[z];h.fn.apply(h.context,M)}else{var T,R=h.length;for(z=0;z<R;z++)switch(h[z].once&&this.removeListener(g,h[z].fn,void 0,!0),y){case 1:h[z].fn.call(h[z].context);break;case 2:h[z].fn.call(h[z].context,A);break;case 3:h[z].fn.call(h[z].context,A,S);break;case 4:h[z].fn.call(h[z].context,A,S,$);break;default:if(!M)for(T=1,M=new Array(y-1);T<y;T++)M[T-1]=arguments[T];h[z].fn.apply(h[z].context,M)}}return!0},_.prototype.on=function(g,A,S){return O(this,g,A,S,!1)},_.prototype.once=function(g,A,S){return O(this,g,A,S,!0)},_.prototype.removeListener=function(g,A,S,$){var P=b?b+g:g;if(!this._events[P])return this;if(!A)return x(this,P),this;var B=this._events[P];if(B.fn)B.fn!==A||$&&!B.once||S&&B.context!==S||x(this,P);else{for(var J=0,M=[],z=B.length;J<z;J++)(B[J].fn!==A||$&&!B[J].once||S&&B[J].context!==S)&&M.push(B[J]);M.length?this._events[P]=M.length===1?M[0]:M:x(this,P)}return this},_.prototype.removeAllListeners=function(g){var A;return g?(A=b?b+g:g,this._events[A]&&x(this,A)):(this._events=new k,this._eventsCount=0),this},_.prototype.off=_.prototype.removeListener,_.prototype.addListener=_.prototype.on,_.prefixed=b,_.EventEmitter=_,v.exports=_},717:v=>{typeof Object.create=="function"?v.exports=function(p,b){p.super_=b,p.prototype=Object.create(b.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}})}:v.exports=function(p,b){p.super_=b;var k=function(){};k.prototype=b.prototype,p.prototype=new k,p.prototype.constructor=p}},824:v=>{var p=1e3,b=60*p,k=60*b,u=24*k,O=7*u,x=365.25*u;function _(g,A,S,$){var P=A>=1.5*S;return Math.round(g/S)+" "+$+(P?"s":"")}v.exports=function(g,A){A=A||{};var S=typeof g;if(S==="string"&&g.length>0)return function($){if(!(($=String($)).length>100)){var P=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec($);if(P){var B=parseFloat(P[1]);switch((P[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return B*x;case"weeks":case"week":case"w":return B*O;case"days":case"day":case"d":return B*u;case"hours":case"hour":case"hrs":case"hr":case"h":return B*k;case"minutes":case"minute":case"mins":case"min":case"m":return B*b;case"seconds":case"second":case"secs":case"sec":case"s":return B*p;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return B;default:return}}}}(g);if(S==="number"&&isFinite(g))return A.long?function($){var P=Math.abs($);return P>=u?_($,P,u,"day"):P>=k?_($,P,k,"hour"):P>=b?_($,P,b,"minute"):P>=p?_($,P,p,"second"):$+" ms"}(g):function($){var P=Math.abs($);return P>=u?Math.round($/u)+"d":P>=k?Math.round($/k)+"h":P>=b?Math.round($/b)+"m":P>=p?Math.round($/p)+"s":$+"ms"}(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))}},520:(v,p,b)=>{var k=b(155),u=k.platform==="win32",O=b(539);function x(h,y){for(var T=[],R=0;R<h.length;R++){var Y=h[R];Y&&Y!=="."&&(Y===".."?T.length&&T[T.length-1]!==".."?T.pop():y&&T.push(".."):T.push(Y))}return T}function _(h){for(var y=h.length-1,T=0;T<=y&&!h[T];T++);for(var R=y;R>=0&&!h[R];R--);return T===0&&R===y?h:T>R?[]:h.slice(T,R+1)}var g=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,A=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,S={};function $(h){var y=g.exec(h),T=(y[1]||"")+(y[2]||""),R=y[3]||"",Y=A.exec(R);return[T,Y[1],Y[2],Y[3]]}function P(h){var y=g.exec(h),T=y[1]||"",R=!!T&&T[1]!==":";return{device:T,isUnc:R,isAbsolute:R||!!y[2],tail:y[3]}}function B(h){return"\\\\"+h.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}S.resolve=function(){for(var h="",y="",T=!1,R=arguments.length-1;R>=-1;R--){var Y;if(R>=0?Y=arguments[R]:h?(Y=k.env["="+h])&&Y.substr(0,3).toLowerCase()===h.toLowerCase()+"\\"||(Y=h+"\\"):Y=k.cwd(),!O.isString(Y))throw new TypeError("Arguments to path.resolve must be strings");if(Y){var re=P(Y),ce=re.device,ve=re.isUnc,Ce=re.isAbsolute,Se=re.tail;if((!ce||!h||ce.toLowerCase()===h.toLowerCase())&&(h||(h=ce),T||(y=Se+"\\"+y,T=Ce),h&&T))break}}return ve&&(h=B(h)),h+(T?"\\":"")+(y=x(y.split(/[\\\/]+/),!T).join("\\"))||"."},S.normalize=function(h){var y=P(h),T=y.device,R=y.isUnc,Y=y.isAbsolute,re=y.tail,ce=/[\\\/]$/.test(re);return(re=x(re.split(/[\\\/]+/),!Y).join("\\"))||Y||(re="."),re&&ce&&(re+="\\"),R&&(T=B(T)),T+(Y?"\\":"")+re},S.isAbsolute=function(h){return P(h).isAbsolute},S.join=function(){for(var h=[],y=0;y<arguments.length;y++){var T=arguments[y];if(!O.isString(T))throw new TypeError("Arguments to path.join must be strings");T&&h.push(T)}var R=h.join("\\");return/^[\\\/]{2}[^\\\/]/.test(h[0])||(R=R.replace(/^[\\\/]{2,}/,"\\")),S.normalize(R)},S.relative=function(h,y){h=S.resolve(h),y=S.resolve(y);for(var T=h.toLowerCase(),R=y.toLowerCase(),Y=_(y.split("\\")),re=_(T.split("\\")),ce=_(R.split("\\")),ve=Math.min(re.length,ce.length),Ce=ve,Se=0;Se<ve;Se++)if(re[Se]!==ce[Se]){Ce=Se;break}if(Ce==0)return y;var _e=[];for(Se=Ce;Se<re.length;Se++)_e.push("..");return(_e=_e.concat(Y.slice(Ce))).join("\\")},S._makeLong=function(h){if(!O.isString(h))return h;if(!h)return"";var y=S.resolve(h);return/^[a-zA-Z]\:\\/.test(y)?"\\\\?\\"+y:/^\\\\[^?.]/.test(y)?"\\\\?\\UNC\\"+y.substring(2):h},S.dirname=function(h){var y=$(h),T=y[0],R=y[1];return T||R?(R&&(R=R.substr(0,R.length-1)),T+R):"."},S.basename=function(h,y){var T=$(h)[2];return y&&T.substr(-1*y.length)===y&&(T=T.substr(0,T.length-y.length)),T},S.extname=function(h){return $(h)[3]},S.format=function(h){if(!O.isObject(h))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof h);var y=h.root||"";if(!O.isString(y))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof h.root);var T=h.dir,R=h.base||"";return T?T[T.length-1]===S.sep?T+R:T+S.sep+R:R},S.parse=function(h){if(!O.isString(h))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof h);var y=$(h);if(!y||y.length!==4)throw new TypeError("Invalid path '"+h+"'");return{root:y[0],dir:y[0]+y[1].slice(0,-1),base:y[2],ext:y[3],name:y[2].slice(0,y[2].length-y[3].length)}},S.sep="\\",S.delimiter=";";var J=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,M={};function z(h){return J.exec(h).slice(1)}M.resolve=function(){for(var h="",y=!1,T=arguments.length-1;T>=-1&&!y;T--){var R=T>=0?arguments[T]:k.cwd();if(!O.isString(R))throw new TypeError("Arguments to path.resolve must be strings");R&&(h=R+"/"+h,y=R[0]==="/")}return(y?"/":"")+(h=x(h.split("/"),!y).join("/"))||"."},M.normalize=function(h){var y=M.isAbsolute(h),T=h&&h[h.length-1]==="/";return(h=x(h.split("/"),!y).join("/"))||y||(h="."),h&&T&&(h+="/"),(y?"/":"")+h},M.isAbsolute=function(h){return h.charAt(0)==="/"},M.join=function(){for(var h="",y=0;y<arguments.length;y++){var T=arguments[y];if(!O.isString(T))throw new TypeError("Arguments to path.join must be strings");T&&(h+=h?"/"+T:T)}return M.normalize(h)},M.relative=function(h,y){h=M.resolve(h).substr(1),y=M.resolve(y).substr(1);for(var T=_(h.split("/")),R=_(y.split("/")),Y=Math.min(T.length,R.length),re=Y,ce=0;ce<Y;ce++)if(T[ce]!==R[ce]){re=ce;break}var ve=[];for(ce=re;ce<T.length;ce++)ve.push("..");return(ve=ve.concat(R.slice(re))).join("/")},M._makeLong=function(h){return h},M.dirname=function(h){var y=z(h),T=y[0],R=y[1];return T||R?(R&&(R=R.substr(0,R.length-1)),T+R):"."},M.basename=function(h,y){var T=z(h)[2];return y&&T.substr(-1*y.length)===y&&(T=T.substr(0,T.length-y.length)),T},M.extname=function(h){return z(h)[3]},M.format=function(h){if(!O.isObject(h))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof h);var y=h.root||"";if(!O.isString(y))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof h.root);return(h.dir?h.dir+M.sep:"")+(h.base||"")},M.parse=function(h){if(!O.isString(h))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof h);var y=z(h);if(!y||y.length!==4)throw new TypeError("Invalid path '"+h+"'");return y[1]=y[1]||"",y[2]=y[2]||"",y[3]=y[3]||"",{root:y[0],dir:y[0]+y[1].slice(0,-1),base:y[2],ext:y[3],name:y[2].slice(0,y[2].length-y[3].length)}},M.sep="/",M.delimiter=":",v.exports=u?S:M,v.exports.posix=M,v.exports.win32=S},155:v=>{var p,b,k=v.exports={};function u(){throw new Error("setTimeout has not been defined")}function O(){throw new Error("clearTimeout has not been defined")}function x(M){if(p===setTimeout)return setTimeout(M,0);if((p===u||!p)&&setTimeout)return p=setTimeout,setTimeout(M,0);try{return p(M,0)}catch{try{return p.call(null,M,0)}catch{return p.call(this,M,0)}}}(function(){try{p=typeof setTimeout=="function"?setTimeout:u}catch{p=u}try{b=typeof clearTimeout=="function"?clearTimeout:O}catch{b=O}})();var _,g=[],A=!1,S=-1;function $(){A&&_&&(A=!1,_.length?g=_.concat(g):S=-1,g.length&&P())}function P(){if(!A){var M=x($);A=!0;for(var z=g.length;z;){for(_=g,g=[];++S<z;)_&&_[S].run();S=-1,z=g.length}_=null,A=!1,function(h){if(b===clearTimeout)return clearTimeout(h);if((b===O||!b)&&clearTimeout)return b=clearTimeout,clearTimeout(h);try{b(h)}catch{try{return b.call(null,h)}catch{return b.call(this,h)}}}(M)}}function B(M,z){this.fun=M,this.array=z}function J(){}k.nextTick=function(M){var z=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)z[h-1]=arguments[h];g.push(new B(M,z)),g.length!==1||A||x(P)},B.prototype.run=function(){this.fun.apply(null,this.array)},k.title="browser",k.browser=!0,k.env={},k.argv=[],k.version="",k.versions={},k.on=J,k.addListener=J,k.once=J,k.off=J,k.removeListener=J,k.removeAllListeners=J,k.emit=J,k.prependListener=J,k.prependOnceListener=J,k.listeners=function(M){return[]},k.binding=function(M){throw new Error("process.binding is not supported")},k.cwd=function(){return"/"},k.chdir=function(M){throw new Error("process.chdir is not supported")},k.umask=function(){return 0}},384:v=>{v.exports=function(p){return p&&typeof p=="object"&&typeof p.copy=="function"&&typeof p.fill=="function"&&typeof p.readUInt8=="function"}},539:(v,p,b)=>{var k=b(155),u=/%[sdj%]/g;p.format=function(E){if(!h(E)){for(var I=[],W=0;W<arguments.length;W++)I.push(_(arguments[W]));return I.join(" ")}W=1;for(var ie=arguments,Ee=ie.length,V=String(E).replace(u,function(fe){if(fe==="%%")return"%";if(W>=Ee)return fe;switch(fe){case"%s":return String(ie[W++]);case"%d":return Number(ie[W++]);case"%j":try{return JSON.stringify(ie[W++])}catch{return"[Circular]"}default:return fe}}),X=ie[W];W<Ee;X=ie[++W])M(X)||!R(X)?V+=" "+X:V+=" "+_(X);return V},p.deprecate=function(E,I){if(y(b.g.process))return function(){return p.deprecate(E,I).apply(this,arguments)};if(k.noDeprecation===!0)return E;var W=!1;return function(){if(!W){if(k.throwDeprecation)throw new Error(I);k.traceDeprecation?console.trace(I):console.error(I),W=!0}return E.apply(this,arguments)}};var O,x={};function _(E,I){var W={seen:[],stylize:A};return arguments.length>=3&&(W.depth=arguments[2]),arguments.length>=4&&(W.colors=arguments[3]),J(I)?W.showHidden=I:I&&p._extend(W,I),y(W.showHidden)&&(W.showHidden=!1),y(W.depth)&&(W.depth=2),y(W.colors)&&(W.colors=!1),y(W.customInspect)&&(W.customInspect=!0),W.colors&&(W.stylize=g),S(W,E,W.depth)}function g(E,I){var W=_.styles[I];return W?"\x1B["+_.colors[W][0]+"m"+E+"\x1B["+_.colors[W][1]+"m":E}function A(E,I){return E}function S(E,I,W){if(E.customInspect&&I&&ce(I.inspect)&&I.inspect!==p.inspect&&(!I.constructor||I.constructor.prototype!==I)){var ie=I.inspect(W,E);return h(ie)||(ie=S(E,ie,W)),ie}var Ee=function(me,pe){if(y(pe))return me.stylize("undefined","undefined");if(h(pe)){var Ae="'"+JSON.stringify(pe).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return me.stylize(Ae,"string")}if(z(pe))return me.stylize(""+pe,"number");if(J(pe))return me.stylize(""+pe,"boolean");if(M(pe))return me.stylize("null","null")}(E,I);if(Ee)return Ee;var V=Object.keys(I),X=function(me){var pe={};return me.forEach(function(Ae,Te){pe[Ae]=!0}),pe}(V);if(E.showHidden&&(V=Object.getOwnPropertyNames(I)),re(I)&&(V.indexOf("message")>=0||V.indexOf("description")>=0))return $(I);if(V.length===0){if(ce(I)){var fe=I.name?": "+I.name:"";return E.stylize("[Function"+fe+"]","special")}if(T(I))return E.stylize(RegExp.prototype.toString.call(I),"regexp");if(Y(I))return E.stylize(Date.prototype.toString.call(I),"date");if(re(I))return $(I)}var Ie,Oe="",Be=!1,ut=["{","}"];return B(I)&&(Be=!0,ut=["[","]"]),ce(I)&&(Oe=" [Function"+(I.name?": "+I.name:"")+"]"),T(I)&&(Oe=" "+RegExp.prototype.toString.call(I)),Y(I)&&(Oe=" "+Date.prototype.toUTCString.call(I)),re(I)&&(Oe=" "+$(I)),V.length!==0||Be&&I.length!=0?W<0?T(I)?E.stylize(RegExp.prototype.toString.call(I),"regexp"):E.stylize("[Object]","special"):(E.seen.push(I),Ie=Be?function(me,pe,Ae,Te,Ne){for(var Fe=[],De=0,Yt=pe.length;De<Yt;++De)Pe(pe,String(De))?Fe.push(P(me,pe,Ae,Te,String(De),!0)):Fe.push("");return Ne.forEach(function(Pt){Pt.match(/^\d+$/)||Fe.push(P(me,pe,Ae,Te,Pt,!0))}),Fe}(E,I,W,X,V):V.map(function(me){return P(E,I,W,X,me,Be)}),E.seen.pop(),function(me,pe,Ae){return me.reduce(function(Te,Ne){return Ne.indexOf(`
`)>=0,Te+Ne.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Ae[0]+(pe===""?"":pe+`
 `)+" "+me.join(`,
  `)+" "+Ae[1]:Ae[0]+pe+" "+me.join(", ")+" "+Ae[1]}(Ie,Oe,ut)):ut[0]+Oe+ut[1]}function $(E){return"["+Error.prototype.toString.call(E)+"]"}function P(E,I,W,ie,Ee,V){var X,fe,Ie;if((Ie=Object.getOwnPropertyDescriptor(I,Ee)||{value:I[Ee]}).get?fe=Ie.set?E.stylize("[Getter/Setter]","special"):E.stylize("[Getter]","special"):Ie.set&&(fe=E.stylize("[Setter]","special")),Pe(ie,Ee)||(X="["+Ee+"]"),fe||(E.seen.indexOf(Ie.value)<0?(fe=M(W)?S(E,Ie.value,null):S(E,Ie.value,W-1)).indexOf(`
`)>-1&&(fe=V?fe.split(`
`).map(function(Oe){return"  "+Oe}).join(`
`).substr(2):`
`+fe.split(`
`).map(function(Oe){return"   "+Oe}).join(`
`)):fe=E.stylize("[Circular]","special")),y(X)){if(V&&Ee.match(/^\d+$/))return fe;(X=JSON.stringify(""+Ee)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(X=X.substr(1,X.length-2),X=E.stylize(X,"name")):(X=X.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),X=E.stylize(X,"string"))}return X+": "+fe}function B(E){return Array.isArray(E)}function J(E){return typeof E=="boolean"}function M(E){return E===null}function z(E){return typeof E=="number"}function h(E){return typeof E=="string"}function y(E){return E===void 0}function T(E){return R(E)&&ve(E)==="[object RegExp]"}function R(E){return typeof E=="object"&&E!==null}function Y(E){return R(E)&&ve(E)==="[object Date]"}function re(E){return R(E)&&(ve(E)==="[object Error]"||E instanceof Error)}function ce(E){return typeof E=="function"}function ve(E){return Object.prototype.toString.call(E)}function Ce(E){return E<10?"0"+E.toString(10):E.toString(10)}p.debuglog=function(E){if(y(O)&&(O=k.env.NODE_DEBUG||""),E=E.toUpperCase(),!x[E])if(new RegExp("\\b"+E+"\\b","i").test(O)){var I=k.pid;x[E]=function(){var W=p.format.apply(p,arguments);console.error("%s %d: %s",E,I,W)}}else x[E]=function(){};return x[E]},p.inspect=_,_.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},_.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},p.isArray=B,p.isBoolean=J,p.isNull=M,p.isNullOrUndefined=function(E){return E==null},p.isNumber=z,p.isString=h,p.isSymbol=function(E){return typeof E=="symbol"},p.isUndefined=y,p.isRegExp=T,p.isObject=R,p.isDate=Y,p.isError=re,p.isFunction=ce,p.isPrimitive=function(E){return E===null||typeof E=="boolean"||typeof E=="number"||typeof E=="string"||typeof E=="symbol"||E===void 0},p.isBuffer=b(384);var Se=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function _e(){var E=new Date,I=[Ce(E.getHours()),Ce(E.getMinutes()),Ce(E.getSeconds())].join(":");return[E.getDate(),Se[E.getMonth()],I].join(" ")}function Pe(E,I){return Object.prototype.hasOwnProperty.call(E,I)}p.log=function(){console.log("%s - %s",_e(),p.format.apply(p,arguments))},p.inherits=b(717),p._extend=function(E,I){if(!I||!R(I))return E;for(var W=Object.keys(I),ie=W.length;ie--;)E[W[ie]]=I[W[ie]];return E}}},s={};function l(v){var p=s[v];if(p!==void 0)return p.exports;var b=s[v]={exports:{}};return i[v].call(b.exports,b,b.exports,l),b.exports}l.n=v=>{var p=v&&v.__esModule?()=>v.default:()=>v;return l.d(p,{a:p}),p},l.d=(v,p)=>{for(var b in p)l.o(p,b)&&!l.o(v,b)&&Object.defineProperty(v,b,{enumerable:!0,get:p[b]})},l.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),l.o=(v,p)=>Object.prototype.hasOwnProperty.call(v,p),l.r=v=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{LSPluginUser:()=>Dr,setupPluginUserInstance:()=>To});var v=l(520);l(856);const p=function(){this.__data__=[],this.size=0},b=function(t,e){return t===e||t!=t&&e!=e},k=function(t,e){for(var o=t.length;o--;)if(b(t[o][0],e))return o;return-1};var u=Array.prototype.splice;const O=function(t){var e=this.__data__,o=k(e,t);return!(o<0)&&(o==e.length-1?e.pop():u.call(e,o,1),--this.size,!0)},x=function(t){var e=this.__data__,o=k(e,t);return o<0?void 0:e[o][1]},_=function(t){return k(this.__data__,t)>-1},g=function(t,e){var o=this.__data__,a=k(o,t);return a<0?(++this.size,o.push([t,e])):o[a][1]=e,this};function A(t){var e=-1,o=t==null?0:t.length;for(this.clear();++e<o;){var a=t[e];this.set(a[0],a[1])}}A.prototype.clear=p,A.prototype.delete=O,A.prototype.get=x,A.prototype.has=_,A.prototype.set=g;const S=A,$=function(){this.__data__=new S,this.size=0},P=function(t){var e=this.__data__,o=e.delete(t);return this.size=e.size,o},B=function(t){return this.__data__.get(t)},J=function(t){return this.__data__.has(t)},M=typeof rr=="object"&&rr&&rr.Object===Object&&rr;var z=typeof self=="object"&&self&&self.Object===Object&&self;const h=M||z||Function("return this")(),y=h.Symbol;var T=Object.prototype,R=T.hasOwnProperty,Y=T.toString,re=y?y.toStringTag:void 0;const ce=function(t){var e=R.call(t,re),o=t[re];try{t[re]=void 0;var a=!0}catch{}var d=Y.call(t);return a&&(e?t[re]=o:delete t[re]),d};var ve=Object.prototype.toString;const Ce=function(t){return ve.call(t)};var Se=y?y.toStringTag:void 0;const _e=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Se&&Se in Object(t)?ce(t):Ce(t)},Pe=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},E=function(t){if(!Pe(t))return!1;var e=_e(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},I=h["__core-js_shared__"];var W,ie=(W=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"";const Ee=function(t){return!!ie&&ie in t};var V=Function.prototype.toString;const X=function(t){if(t!=null){try{return V.call(t)}catch{}try{return t+""}catch{}}return""};var fe=/^\[object .+?Constructor\]$/,Ie=Function.prototype,Oe=Object.prototype,Be=Ie.toString,ut=Oe.hasOwnProperty,me=RegExp("^"+Be.call(ut).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const pe=function(t){return!(!Pe(t)||Ee(t))&&(E(t)?me:fe).test(X(t))},Ae=function(t,e){return t==null?void 0:t[e]},Te=function(t,e){var o=Ae(t,e);return pe(o)?o:void 0},Ne=Te(h,"Map"),Fe=Te(Object,"create"),De=function(){this.__data__=Fe?Fe(null):{},this.size=0},Yt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var Pt=Object.prototype.hasOwnProperty;const hr=function(t){var e=this.__data__;if(Fe){var o=e[t];return o==="__lodash_hash_undefined__"?void 0:o}return Pt.call(e,t)?e[t]:void 0};var _r=Object.prototype.hasOwnProperty;const mr=function(t){var e=this.__data__;return Fe?e[t]!==void 0:_r.call(e,t)},gr=function(t,e){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=Fe&&e===void 0?"__lodash_hash_undefined__":e,this};function ft(t){var e=-1,o=t==null?0:t.length;for(this.clear();++e<o;){var a=t[e];this.set(a[0],a[1])}}ft.prototype.clear=De,ft.prototype.delete=Yt,ft.prototype.get=hr,ft.prototype.has=mr,ft.prototype.set=gr;const Nn=ft,vr=function(){this.size=0,this.__data__={hash:new Nn,map:new(Ne||S),string:new Nn}},yr=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},wt=function(t,e){var o=t.__data__;return yr(e)?o[typeof e=="string"?"string":"hash"]:o.map},N=function(t){var e=wt(this,t).delete(t);return this.size-=e?1:0,e},D=function(t){return wt(this,t).get(t)},Z=function(t){return wt(this,t).has(t)},te=function(t,e){var o=wt(this,t),a=o.size;return o.set(t,e),this.size+=o.size==a?0:1,this};function le(t){var e=-1,o=t==null?0:t.length;for(this.clear();++e<o;){var a=t[e];this.set(a[0],a[1])}}le.prototype.clear=vr,le.prototype.delete=N,le.prototype.get=D,le.prototype.has=Z,le.prototype.set=te;const Re=le,Xe=function(t,e){var o=this.__data__;if(o instanceof S){var a=o.__data__;if(!Ne||a.length<199)return a.push([t,e]),this.size=++o.size,this;o=this.__data__=new Re(a)}return o.set(t,e),this.size=o.size,this};function Me(t){var e=this.__data__=new S(t);this.size=e.size}Me.prototype.clear=$,Me.prototype.delete=P,Me.prototype.get=B,Me.prototype.has=J,Me.prototype.set=Xe;const et=Me,kt=function(){try{var t=Te(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ft=function(t,e,o){e=="__proto__"&&kt?kt(t,e,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[e]=o},Xt=function(t,e,o){(o!==void 0&&!b(t[e],o)||o===void 0&&!(e in t))&&Ft(t,e,o)},$n=function(t){return function(e,o,a){for(var d=-1,m=Object(e),w=a(e),C=w.length;C--;){var j=w[t?C:++d];if(o(m[j],j,m)===!1)break}return e}}();var Pn=r&&!r.nodeType&&r,xt=Pn&&!0&&n&&!n.nodeType&&n,Fn=xt&&xt.exports===Pn?h.Buffer:void 0,Rn=Fn?Fn.allocUnsafe:void 0;const br=function(t,e){if(e)return t.slice();var o=t.length,a=Rn?Rn(o):new t.constructor(o);return t.copy(a),a},pt=h.Uint8Array,en=function(t){var e=new t.constructor(t.byteLength);return new pt(e).set(new pt(t)),e},We=function(t,e){var o=e?en(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)},Mn=function(t,e){var o=-1,a=t.length;for(e||(e=Array(a));++o<a;)e[o]=t[o];return e};var Ct=Object.create;const tn=function(){function t(){}return function(e){if(!Pe(e))return{};if(Ct)return Ct(e);t.prototype=e;var o=new t;return t.prototype=void 0,o}}(),Dn=function(t,e){return function(o){return t(e(o))}},Un=Dn(Object.getPrototypeOf,Object);var wr=Object.prototype;const nn=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||wr)},qn=function(t){return typeof t.constructor!="function"||nn(t)?{}:tn(Un(t))},we=function(t){return t!=null&&typeof t=="object"},dt=function(t){return we(t)&&_e(t)=="[object Arguments]"};var Ge=Object.prototype,rn=Ge.hasOwnProperty,on=Ge.propertyIsEnumerable;const Rt=dt(function(){return arguments}())?dt:function(t){return we(t)&&rn.call(t,"callee")&&!on.call(t,"callee")},$e=Array.isArray,an=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},St=function(t){return t!=null&&an(t.length)&&!E(t)},sn=function(t){return we(t)&&St(t)},ye=function(){return!1};var cn=r&&!r.nodeType&&r,be=cn&&!0&&n&&!n.nodeType&&n,ln=be&&be.exports===cn?h.Buffer:void 0;const ue=(ln?ln.isBuffer:void 0)||ye;var Et=Function.prototype,un=Object.prototype,fn=Et.toString,pn=un.hasOwnProperty,zn=fn.call(Object);const ht=function(t){if(!we(t)||_e(t)!="[object Object]")return!1;var e=Un(t);if(e===null)return!0;var o=pn.call(e,"constructor")&&e.constructor;return typeof o=="function"&&o instanceof o&&fn.call(o)==zn};var oe={};oe["[object Float32Array]"]=oe["[object Float64Array]"]=oe["[object Int8Array]"]=oe["[object Int16Array]"]=oe["[object Int32Array]"]=oe["[object Uint8Array]"]=oe["[object Uint8ClampedArray]"]=oe["[object Uint16Array]"]=oe["[object Uint32Array]"]=!0,oe["[object Arguments]"]=oe["[object Array]"]=oe["[object ArrayBuffer]"]=oe["[object Boolean]"]=oe["[object DataView]"]=oe["[object Date]"]=oe["[object Error]"]=oe["[object Function]"]=oe["[object Map]"]=oe["[object Number]"]=oe["[object Object]"]=oe["[object RegExp]"]=oe["[object Set]"]=oe["[object String]"]=oe["[object WeakMap]"]=!1;const dn=function(t){return we(t)&&an(t.length)&&!!oe[_e(t)]},hn=function(t){return function(e){return t(e)}};var tt=r&&!r.nodeType&&r,Ve=tt&&!0&&n&&!n.nodeType&&n,_t=Ve&&Ve.exports===tt&&M.process,_n=function(){try{var t=Ve&&Ve.require&&Ve.require("util").types;return t||_t&&_t.binding&&_t.binding("util")}catch{}}(),Mt=_n&&_n.isTypedArray;const nt=Mt?hn(Mt):dn,Je=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]};var mt=Object.prototype.hasOwnProperty;const Hn=function(t,e,o){var a=t[e];mt.call(t,e)&&b(a,o)&&(o!==void 0||e in t)||Ft(t,e,o)},Bn=function(t,e,o,a){var d=!o;o||(o={});for(var m=-1,w=e.length;++m<w;){var C=e[m],j=a?a(o[C],t[C],C,o,t):void 0;j===void 0&&(j=t[C]),d?Ft(o,C,j):Hn(o,C,j)}return o},Wn=function(t,e){for(var o=-1,a=Array(t);++o<t;)a[o]=e(o);return a};var mn=/^(?:0|[1-9]\d*)$/;const Dt=function(t,e){var o=typeof t;return!!(e=e??9007199254740991)&&(o=="number"||o!="symbol"&&mn.test(t))&&t>-1&&t%1==0&&t<e};var gn=Object.prototype.hasOwnProperty;const Ut=function(t,e){var o=$e(t),a=!o&&Rt(t),d=!o&&!a&&ue(t),m=!o&&!a&&!d&&nt(t),w=o||a||d||m,C=w?Wn(t.length,String):[],j=C.length;for(var U in t)!e&&!gn.call(t,U)||w&&(U=="length"||d&&(U=="offset"||U=="parent")||m&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||Dt(U,j))||C.push(U);return C},Ke=function(t){var e=[];if(t!=null)for(var o in Object(t))e.push(o);return e};var qt=Object.prototype.hasOwnProperty;const Gn=function(t){if(!Pe(t))return Ke(t);var e=nn(t),o=[];for(var a in t)(a!="constructor"||!e&&qt.call(t,a))&&o.push(a);return o},Vn=function(t){return St(t)?Ut(t,!0):Gn(t)},kr=function(t){return Bn(t,Vn(t))},gt=function(t,e,o,a,d,m,w){var C=Je(t,o),j=Je(e,o),U=w.get(j);if(U)Xt(t,o,U);else{var q=m?m(C,j,o+"",t,e,w):void 0,H=q===void 0;if(H){var K=$e(j),ee=!K&&ue(j),Q=!K&&!ee&&nt(j);q=j,K||ee||Q?$e(C)?q=C:sn(C)?q=Mn(C):ee?(H=!1,q=br(j,!0)):Q?(H=!1,q=We(j,!0)):q=[]:ht(j)||Rt(j)?(q=C,Rt(C)?q=kr(C):Pe(C)&&!E(C)||(q=qn(j))):H=!1}H&&(w.set(j,q),d(q,j,a,m,w),w.delete(j)),Xt(t,o,q)}},xr=function t(e,o,a,d,m){e!==o&&$n(o,function(w,C){if(m||(m=new et),Pe(w))gt(e,o,C,a,t,d,m);else{var j=d?d(Je(e,C),w,C+"",e,o,m):void 0;j===void 0&&(j=w),Xt(e,C,j)}},Vn)},zt=function(t){return t},vn=function(t,e,o){switch(o.length){case 0:return t.call(e);case 1:return t.call(e,o[0]);case 2:return t.call(e,o[0],o[1]);case 3:return t.call(e,o[0],o[1],o[2])}return t.apply(e,o)};var yn=Math.max;const Jn=function(t,e,o){return e=yn(e===void 0?t.length-1:e,0),function(){for(var a=arguments,d=-1,m=yn(a.length-e,0),w=Array(m);++d<m;)w[d]=a[e+d];d=-1;for(var C=Array(e+1);++d<e;)C[d]=a[d];return C[e]=o(w),vn(t,this,C)}},Cr=function(t){return function(){return t}},Ht=kt?function(t,e){return kt(t,"toString",{configurable:!0,enumerable:!1,value:Cr(e),writable:!0})}:zt;var bn=Date.now;const Sr=function(t){var e=0,o=0;return function(){var a=bn(),d=16-(a-o);if(o=a,d>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Ht),Ue=function(t,e){return Sr(Jn(t,e,zt),t+"")},Kn=function(t,e,o){if(!Pe(o))return!1;var a=typeof e;return!!(a=="number"?St(o)&&Dt(e,o.length):a=="string"&&e in o)&&b(o[e],t)},Zn=function(t){return Ue(function(e,o){var a=-1,d=o.length,m=d>1?o[d-1]:void 0,w=d>2?o[2]:void 0;for(m=t.length>3&&typeof m=="function"?(d--,m):void 0,w&&Kn(o[0],o[1],w)&&(m=d<3?void 0:m,d=1),e=Object(e);++a<d;){var C=o[a];C&&t(e,C,a,m)}return e})}(function(t,e,o){xr(t,e,o)});var Ot=function(){return Ot=Object.assign||function(t){for(var e,o=1,a=arguments.length;o<a;o++)for(var d in e=arguments[o])Object.prototype.hasOwnProperty.call(e,d)&&(t[d]=e[d]);return t},Ot.apply(this,arguments)};function Er(t){return t.toLowerCase()}var At=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],qe=/[^A-Z0-9]+/gi;function wn(t,e,o){return e instanceof RegExp?t.replace(e,o):e.reduce(function(a,d){return a.replace(d,o)},t)}function Qn(t,e){return e===void 0&&(e={}),function(o,a){a===void 0&&(a={});for(var d=a.splitRegexp,m=d===void 0?At:d,w=a.stripRegexp,C=w===void 0?qe:w,j=a.transform,U=j===void 0?Er:j,q=a.delimiter,H=q===void 0?" ":q,K=wn(wn(o,m,"$1\0$2"),C,"\0"),ee=0,Q=K.length;K.charAt(ee)==="\0";)ee++;for(;K.charAt(Q-1)==="\0";)Q--;return K.slice(ee,Q).split("\0").map(U).join(H)}(t,Ot({delimiter:"."},e))}var kn=l(729),Tt=l.n(kn);function xn(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}const f=navigator.platform.toLowerCase()==="win32"?v.win32:v.posix,F=function(t,e){return e===void 0&&(e={}),Qn(t,Ot({delimiter:"_"},e))},L=Zn;class ae extends Tt(){constructor(e,o){super(),xn(this,"_tag",void 0),xn(this,"_opts",void 0),xn(this,"_logs",[]),this._tag=e,this._opts=o}write(e,o,a){var d;o!=null&&o.length&&o[o.length-1]===!0&&(a=!0,o.pop());const m=o.reduce((C,j)=>(j&&j instanceof Error?C+=`${j.message} ${j.stack}`:C+=j.toString(),C),`[${this._tag}][${new Date().toLocaleTimeString()}] `);var w;this._logs.push([e,m]),(a||(d=this._opts)!==null&&d!==void 0&&d.console)&&((w=console)===null||w===void 0||w[e==="ERROR"?"error":"debug"](`${e}: ${m}`)),this.emit("change")}clear(){this._logs=[],this.emit("change")}info(...e){this.write("INFO",e)}error(...e){this.write("ERROR",e)}warn(...e){this.write("WARN",e)}setTag(e){this._tag=e}toJSON(){return this._logs}}function de(t,...e){try{const o=new URL(t);if(!o.origin)throw new Error(null);const a=f.join(t.substr(o.origin.length),...e);return o.origin+a}catch{return f.join(t,...e)}}function ke(t,e){let o,a,d=!1;const m=C=>j=>{t&&clearTimeout(t),C(j),d=!0},w=new Promise((C,j)=>{o=m(C),a=m(j),t&&(t=setTimeout(()=>a(new Error(`[deferred timeout] ${e}`)),t))});return{created:Date.now(),setTag:C=>e=C,resolve:o,reject:a,promise:w,get settled(){return d}}}const xe=new Map;window.__injectedUIEffects=xe;var jt=l(227),ze=l.n(jt);function ne(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}const rt="application/x-postmate-v1+json";let Yr=0;const Fi={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},Or=(t,e)=>(typeof e!="string"||t.origin===e)&&!!t.data&&(typeof t.data!="object"||"postmate"in t.data)&&t.data.type===rt&&!!Fi[t.data.postmate];class Ri{constructor(e){ne(this,"parent",void 0),ne(this,"frame",void 0),ne(this,"child",void 0),ne(this,"events",{}),ne(this,"childOrigin",void 0),ne(this,"listener",void 0),this.parent=e.parent,this.frame=e.frame,this.child=e.child,this.childOrigin=e.childOrigin,this.listener=o=>{if(!Or(o,this.childOrigin))return!1;const{data:a,name:d}=((o||{}).data||{}).value||{};o.data.postmate==="emit"&&d in this.events&&this.events[d].forEach(m=>{m.call(this,a)})},this.parent.addEventListener("message",this.listener,!1)}get(e,...o){return new Promise(a=>{const d=++Yr,m=w=>{w.data.uid===d&&w.data.postmate==="reply"&&(this.parent.removeEventListener("message",m,!1),a(w.data.value))};this.parent.addEventListener("message",m,!1),this.child.postMessage({postmate:"request",type:rt,property:e,args:o,uid:d},this.childOrigin)})}call(e,o){this.child.postMessage({postmate:"call",type:rt,property:e,data:o},this.childOrigin)}on(e,o){this.events[e]||(this.events[e]=[]),this.events[e].push(o)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class Mi{constructor(e){ne(this,"model",void 0),ne(this,"parent",void 0),ne(this,"parentOrigin",void 0),ne(this,"child",void 0),this.model=e.model,this.parent=e.parent,this.parentOrigin=e.parentOrigin,this.child=e.child,this.child.addEventListener("message",o=>{if(!Or(o,this.parentOrigin))return;const{property:a,uid:d,data:m,args:w}=o.data;o.data.postmate!=="call"?((C,j,U)=>{const q=typeof C[j]=="function"?C[j].apply(null,U):C[j];return Promise.resolve(q)})(this.model,a,w).then(C=>{o.source.postMessage({property:a,postmate:"reply",type:rt,uid:d,value:C},o.origin)}):a in this.model&&typeof this.model[a]=="function"&&this.model[a](m)})}emit(e,o){this.parent.postMessage({postmate:"emit",type:rt,value:{name:e,data:o}},this.parentOrigin)}}class Ar{constructor(e){ne(this,"container",void 0),ne(this,"parent",void 0),ne(this,"frame",void 0),ne(this,"child",void 0),ne(this,"childOrigin",void 0),ne(this,"url",void 0),ne(this,"model",void 0),this.container=e.container,this.url=e.url,this.parent=window,this.frame=document.createElement("iframe"),e.id&&(this.frame.id=e.id),e.name&&(this.frame.name=e.name),this.frame.classList.add.apply(this.frame.classList,e.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=e.model||{}}sendHandshake(e){const o=(m=>{const w=document.createElement("a");w.href=m;const C=w.protocol.length>4?w.protocol:window.location.protocol,j=w.host.length?w.port==="80"||w.port==="443"?w.hostname:w.host:window.location.host;return w.origin||`${C}//${j}`})(e=e||this.url);let a,d=0;return new Promise((m,w)=>{const C=U=>!!Or(U,o)&&(U.data.postmate==="handshake-reply"?(clearInterval(a),this.parent.removeEventListener("message",C,!1),this.childOrigin=U.origin,m(new Ri(this))):w("Failed handshake"));this.parent.addEventListener("message",C,!1);const j=()=>{d++,this.child.postMessage({postmate:"handshake",type:rt,model:this.model},o),d===5&&clearInterval(a)};this.frame.addEventListener("load",()=>{j(),a=setInterval(j,500)}),this.frame.src=e})}destroy(){this.frame.parentNode.removeChild(this.frame)}}ne(Ar,"debug",!1),ne(Ar,"Model",void 0);class Di{constructor(e){ne(this,"child",void 0),ne(this,"model",void 0),ne(this,"parent",void 0),ne(this,"parentOrigin",void 0),this.child=window,this.model=e,this.parent=this.child.parent}sendHandshakeReply(){return new Promise((e,o)=>{const a=d=>{if(d.data.postmate){if(d.data.postmate==="handshake"){this.child.removeEventListener("message",a,!1),d.source.postMessage({postmate:"handshake-reply",type:rt},d.origin),this.parentOrigin=d.origin;const m=d.data.model;return m&&Object.keys(m).forEach(w=>{this.model[w]=m[w]}),e(new Mi(this))}return o("Handshake Reply Failed")}};this.child.addEventListener("message",a,!1)})}}function Cn(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}const{importHTML:Ui,createSandboxContainer:qi}=window.QSandbox||{};function zi(t,e){return t.startsWith("http")?fetch(t,e):(t=t.replace("file://",""),new Promise(async(o,a)=>{try{const d=await window.apis.doAction(["readFile",t]);o({text:()=>d})}catch(d){console.error(d),a(d)}}))}class Hi extends Tt(){constructor(e){super(),Cn(this,"_pluginLocal",void 0),Cn(this,"_frame",void 0),Cn(this,"_root",void 0),Cn(this,"_loaded",!1),Cn(this,"_unmountFns",[]),this._pluginLocal=e,e._dispose(()=>{this._unmount()})}async load(){const{name:e,entry:o}=this._pluginLocal.options;if(this.loaded||!o)return;const{template:a,execScripts:d}=await Ui(o,{fetch:zi});this._mount(a,document.body);const m=qi(e,{elementGetter:()=>{var C;return(C=this._root)===null||C===void 0?void 0:C.firstChild}}).instance.proxy;m.__shadow_mode__=!0,m.LSPluginLocal=this._pluginLocal,m.LSPluginShadow=this,m.LSPluginUser=m.logseq=new Dr(this._pluginLocal.toJSON(),this._pluginLocal.caller);const w=await d(m,!0);this._unmountFns.push(w.unmount),this._loaded=!0}_mount(e,o){const a=this._frame=document.createElement("div");a.classList.add("lsp-shadow-sandbox"),a.id=this._pluginLocal.id,this._root=a.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${e}</div>`,o.appendChild(a),this.emit("mounted")}_unmount(){for(const e of this._unmountFns)e&&e.call(null)}destroy(){var e,o;(e=this.frame)===null||e===void 0||(o=e.parentNode)===null||o===void 0||o.removeChild(this.frame)}get loaded(){return this._loaded}get document(){var e;return(e=this._root)===null||e===void 0?void 0:e.firstChild}get frame(){return this._frame}}function Ze(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}const vt=ze()("LSPlugin:caller"),Sn="#await#response#",Bi="#lspmsg#",Xr="#lspmsg#error#",Yn=t=>`#lspmsg#${t}`;class Wi extends Tt(){constructor(e){super(),Ze(this,"_pluginLocal",void 0),Ze(this,"_connected",!1),Ze(this,"_parent",void 0),Ze(this,"_child",void 0),Ze(this,"_shadow",void 0),Ze(this,"_status",void 0),Ze(this,"_userModel",{}),Ze(this,"_call",void 0),Ze(this,"_callUserModel",void 0),Ze(this,"_debugTag",""),this._pluginLocal=e,e&&(this._debugTag=e.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:e}=this._pluginLocal;e?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(e={}){if(this._connected)return;const o=this,a=this._pluginLocal!=null;let d=0;const m=new Map,w=ke(6e4),C=this._extendUserModel({"#lspmsg#ready#":async q=>{C[Yn(q==null?void 0:q.pid)]=({type:H,payload:K})=>{vt(`[host (_call) -> *user] ${this._debugTag}`,H,K),o.emit(H,K)},await w.resolve()},"#lspmsg#beforeunload#":async q=>{const H=ke(1e4);o.emit("beforeunload",Object.assign({actor:H},q)),await H.promise},"#lspmsg#settings#":async({type:q,payload:H})=>{o.emit("settings:changed",H)},[Bi]:async({ns:q,type:H,payload:K})=>{vt(`[host (async) -> *user] ${this._debugTag} ns=${q} type=${H}`,K),q&&q.startsWith("hook")?o.emit(`${q}:${H}`,K):o.emit(H,K)},"#lspmsg#reply#":({_sync:q,result:H})=>{if(vt(`[sync host -> *user] #${q}`,H),m.has(q)){const K=m.get(q);K&&(H!=null&&H.hasOwnProperty(Xr)?K.reject(H[Xr]):K.resolve(H),m.delete(q))}},...e});var j;if(a)return await w.promise,JSON.parse(JSON.stringify((j=this._pluginLocal)===null||j===void 0?void 0:j.toJSON()));const U=new Di(C).sendHandshakeReply();return this._status="pending",await U.then(q=>{this._child=q,this._connected=!0,this._call=async(H,K={},ee)=>{if(ee){const Q=++d;m.set(Q,ee),K._sync=Q,ee.setTag(`async call #${Q}`),vt(`async call #${Q}`)}return q.emit(Yn(C.baseInfo.id),{type:H,payload:K}),ee==null?void 0:ee.promise},this._callUserModel=async(H,K)=>{try{C[H](K)}catch{vt(`[model method] #${H} not existed`)}},setInterval(()=>{if(m.size>100)for(const[H,K]of m)K.settled&&m.delete(H)},18e5)}).finally(()=>{this._status=void 0}),await w.promise,C.baseInfo}async call(e,o={}){var a;return(a=this._call)===null||a===void 0?void 0:a.call(this,e,o)}async callAsync(e,o={}){var a;const d=ke(1e4);return(a=this._call)===null||a===void 0?void 0:a.call(this,e,o,d)}async callUserModel(e,...o){var a;return(a=this._callUserModel)===null||a===void 0?void 0:a.apply(this,[e,...o])}async callUserModelAsync(e,...o){var a;return e=`${Sn}${e}`,(a=this._callUserModel)===null||a===void 0?void 0:a.apply(this,[e,...o])}async _setupIframeSandbox(){const e=this._pluginLocal,o=e.id,a=`${o}_lsp_main`,d=new URL(e.options.entry);d.searchParams.set("__v__",e.options.version);const m=document.querySelector(`#${a}`);m&&m.parentElement.removeChild(m);const w=document.createElement("div");w.classList.add("lsp-iframe-sandbox-container"),w.id=a,w.dataset.pid=o;try{var C;const H=(C=await this._pluginLocal._loadLayoutsData())===null||C===void 0?void 0:C.$$0;if(H){w.dataset.inited_layout="true";let{width:K,height:ee,left:Q,top:se,vw:ge,vh:Le}=H;Q=Math.max(Q,0),Q=typeof ge=="number"?`${Math.min(100*Q/ge,99)}%`:`${Q}px`,se=Math.max(se,45),se=typeof Le=="number"?`${Math.min(100*se/Le,99)}%`:`${se}px`,Object.assign(w.style,{width:K+"px",height:ee+"px",left:Q,top:se})}}catch(H){console.error("[Restore Layout Error]",H)}document.body.appendChild(w);const j=new Ar({id:o+"_iframe",container:w,url:d.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(e.toJSON()))}});let U,q=j.sendHandshake();return this._status="pending",new Promise((H,K)=>{U=setTimeout(()=>{K(new Error("handshake Timeout")),j.destroy()},4e3),q.then(ee=>{this._parent=ee,this._connected=!0,this.emit("connected"),ee.on(Yn(e.id),({type:Q,payload:se})=>{var ge,Le;vt("[user -> *host] ",Q,se),(ge=this._pluginLocal)===null||ge===void 0||ge.emit(Q,se||{}),(Le=this._pluginLocal)===null||Le===void 0||Le.caller.emit(Q,se||{})}),this._call=async(...Q)=>{await ee.call(Yn(e.id),{type:Q[0],payload:Object.assign(Q[1]||{},{$$pid:e.id})})},this._callUserModel=async(Q,...se)=>{if(Q.startsWith(Sn))return await ee.get(Q.replace(Sn,""),...se);ee.call(Q,se==null?void 0:se[0])},H(null)}).catch(ee=>{K(ee)}).finally(()=>{clearTimeout(U)})}).catch(H=>{throw vt("[iframe sandbox] error",H),H}).finally(()=>{this._status=void 0})}async _setupShadowSandbox(){const e=this._pluginLocal,o=this._shadow=new Hi(e);try{this._status="pending",await o.load(),this._connected=!0,this.emit("connected"),this._call=async(a,d={},m)=>{var w;return m&&(d.actor=m),(w=this._pluginLocal)===null||w===void 0||w.emit(a,Object.assign(d,{$$pid:e.id})),m==null?void 0:m.promise},this._callUserModel=async(...a)=>{var d;let m=a[0];(d=m)!==null&&d!==void 0&&d.startsWith(Sn)&&(m=m.replace(Sn,""));const w=a[1]||{},C=this._userModel[m];typeof C=="function"&&await C.call(null,w)}}catch(a){throw vt("[shadow sandbox] error",a),a}finally{this._status=void 0}}_extendUserModel(e){return Object.assign(this._userModel,e)}_getSandboxIframeContainer(){var e;return(e=this._parent)===null||e===void 0?void 0:e.frame.parentNode}_getSandboxShadowContainer(){var e;return(e=this._shadow)===null||e===void 0?void 0:e.frame.parentNode}_getSandboxIframeRoot(){var e;return(e=this._parent)===null||e===void 0?void 0:e.frame}_getSandboxShadowRoot(){var e;return(e=this._shadow)===null||e===void 0?void 0:e.frame}set debugTag(e){this._debugTag=e}async destroy(){var e;let o=null;this._parent&&(o=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(o=this._getSandboxShadowContainer(),this._shadow.destroy()),(e=o)===null||e===void 0||e.parentNode.removeChild(o)}}function eo(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}class to{constructor(e,o){eo(this,"ctx",void 0),eo(this,"opts",void 0),this.ctx=e,this.opts=o}get ctxId(){return this.ctx.baseInfo.id}setItem(e,o){var a;return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,e,o,(a=this.opts)===null||a===void 0?void 0:a.assets]})}getItem(e){var o;return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,e,(o=this.opts)===null||o===void 0?void 0:o.assets]})}removeItem(e){var o;return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,e,(o=this.opts)===null||o===void 0?void 0:o.assets]})}allKeys(){var e;return this.ctx.caller.callAsync("api:call",{method:"list-plugin-storage-files",args:[this.ctxId,(e=this.opts)===null||e===void 0?void 0:e.assets]})}clear(){var e;return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId,(e=this.opts)===null||e===void 0?void 0:e.assets]})}hasItem(e){var o;return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,e,(o=this.opts)===null||o===void 0?void 0:o.assets]})}}class Gi{constructor(e){var o,a,d;d=void 0,(a="ctx")in(o=this)?Object.defineProperty(o,a,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[a]=d,this.ctx=e}get React(){return this.ensureHostScope().React}get ReactDOM(){return this.ensureHostScope().ReactDOM}get pluginLocal(){return this.ensureHostScope().LSPluginCore.ensurePlugin(this.ctx.baseInfo.id)}invokeExperMethod(e,...o){var a,d;const m=this.ensureHostScope();return e=(a=F(e))===null||a===void 0?void 0:a.toLowerCase(),(d=m.logseq.api["exper_"+e])===null||d===void 0?void 0:d.apply(m,o)}async loadScripts(...e){(e=e.map(o=>o!=null&&o.startsWith("http")?o:this.ctx.resolveResourceFullUrl(o))).unshift(this.ctx.baseInfo.id),await this.invokeExperMethod("loadScripts",...e)}registerFencedCodeRenderer(e,o){return this.ensureHostScope().logseq.api.exper_register_fenced_code_renderer(this.ctx.baseInfo.id,e,o)}registerExtensionsEnhancer(e,o){const a=this.ensureHostScope();return e==="katex"&&a.katex&&o(a.katex).catch(console.error),a.logseq.api.exper_register_extensions_enhancer(this.ctx.baseInfo.id,e,o)}ensureHostScope(){if(window===top)throw new Error("Can not access host scope!");return top}}function Bt(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}const no=t=>`task_callback_${t}`;class Vi{constructor(e,o,a={}){Bt(this,"_client",void 0),Bt(this,"_requestId",void 0),Bt(this,"_requestOptions",void 0),Bt(this,"_promise",void 0),Bt(this,"_aborted",!1),this._client=e,this._requestId=o,this._requestOptions=a,this._promise=new Promise((C,j)=>{if(!this._requestId)return j(null);this._client.once(no(this._requestId),U=>{U&&U instanceof Error?j(U):C(U)})});const{success:d,fail:m,final:w}=this._requestOptions;this._promise.then(C=>{d==null||d(C)}).catch(C=>{m==null||m(C)}).finally(()=>{w==null||w()})}abort(){this._requestOptions.abortable&&!this._aborted&&(this._client.ctx._execCallableAPI("http_request_abort",this._requestId),this._aborted=!0)}get promise(){return this._promise}get client(){return this._client}get requestId(){return this._requestId}}class Tr extends kn.EventEmitter{constructor(e){super(),Bt(this,"_ctx",void 0),this._ctx=e,this.ctx.caller.on("#lsp#request#callback",o=>{const a=o==null?void 0:o.requestId;a&&this.emit(no(a),o==null?void 0:o.payload)})}static createRequestTask(e,o,a){return new Vi(e,o,a)}async _request(e){const o=this.ctx.baseInfo.id,{success:a,fail:d,final:m,...w}=e,C=this.ctx.Experiments.invokeExperMethod("request",o,w),j=Tr.createRequestTask(this.ctx.Request,C,e);return w.abortable?j:j.promise}get ctx(){return this._ctx}}const Ji=Dn(Object.keys,Object);var Ki=Object.prototype.hasOwnProperty;const Zi=function(t){if(!nn(t))return Ji(t);var e=[];for(var o in Object(t))Ki.call(t,o)&&o!="constructor"&&e.push(o);return e},jr=function(t){return St(t)?Ut(t):Zi(t)},Qi=function(t,e){return t&&$n(t,e,jr)},Yi=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Xi=function(t){return this.__data__.has(t)};function Xn(t){var e=-1,o=t==null?0:t.length;for(this.__data__=new Re;++e<o;)this.add(t[e])}Xn.prototype.add=Xn.prototype.push=Yi,Xn.prototype.has=Xi;const ea=Xn,ta=function(t,e){for(var o=-1,a=t==null?0:t.length;++o<a;)if(e(t[o],o,t))return!0;return!1},na=function(t,e){return t.has(e)},ro=function(t,e,o,a,d,m){var w=1&o,C=t.length,j=e.length;if(C!=j&&!(w&&j>C))return!1;var U=m.get(t),q=m.get(e);if(U&&q)return U==e&&q==t;var H=-1,K=!0,ee=2&o?new ea:void 0;for(m.set(t,e),m.set(e,t);++H<C;){var Q=t[H],se=e[H];if(a)var ge=w?a(se,Q,H,e,t,m):a(Q,se,H,t,e,m);if(ge!==void 0){if(ge)continue;K=!1;break}if(ee){if(!ta(e,function(Le,ot){if(!na(ee,ot)&&(Q===Le||d(Q,Le,o,a,m)))return ee.push(ot)})){K=!1;break}}else if(Q!==se&&!d(Q,se,o,a,m)){K=!1;break}}return m.delete(t),m.delete(e),K},ra=function(t){var e=-1,o=Array(t.size);return t.forEach(function(a,d){o[++e]=[d,a]}),o},oa=function(t){var e=-1,o=Array(t.size);return t.forEach(function(a){o[++e]=a}),o};var oo=y?y.prototype:void 0,Ir=oo?oo.valueOf:void 0;const ia=function(t,e,o,a,d,m,w){switch(o){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!m(new pt(t),new pt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return b(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var C=ra;case"[object Set]":var j=1&a;if(C||(C=oa),t.size!=e.size&&!j)return!1;var U=w.get(t);if(U)return U==e;a|=2,w.set(t,e);var q=ro(C(t),C(e),a,d,m,w);return w.delete(t),q;case"[object Symbol]":if(Ir)return Ir.call(t)==Ir.call(e)}return!1},aa=function(t,e){for(var o=-1,a=e.length,d=t.length;++o<a;)t[d+o]=e[o];return t},sa=function(t,e,o){var a=e(t);return $e(t)?a:aa(a,o(t))},ca=function(t,e){for(var o=-1,a=t==null?0:t.length,d=0,m=[];++o<a;){var w=t[o];e(w,o,t)&&(m[d++]=w)}return m},la=function(){return[]};var ua=Object.prototype.propertyIsEnumerable,io=Object.getOwnPropertySymbols;const fa=io?function(t){return t==null?[]:(t=Object(t),ca(io(t),function(e){return ua.call(t,e)}))}:la,ao=function(t){return sa(t,jr,fa)};var pa=Object.prototype.hasOwnProperty;const da=function(t,e,o,a,d,m){var w=1&o,C=ao(t),j=C.length;if(j!=ao(e).length&&!w)return!1;for(var U=j;U--;){var q=C[U];if(!(w?q in e:pa.call(e,q)))return!1}var H=m.get(t),K=m.get(e);if(H&&K)return H==e&&K==t;var ee=!0;m.set(t,e),m.set(e,t);for(var Q=w;++U<j;){var se=t[q=C[U]],ge=e[q];if(a)var Le=w?a(ge,se,q,e,t,m):a(se,ge,q,t,e,m);if(!(Le===void 0?se===ge||d(se,ge,o,a,m):Le)){ee=!1;break}Q||(Q=q=="constructor")}if(ee&&!Q){var ot=t.constructor,Lt=e.constructor;ot==Lt||!("constructor"in t)||!("constructor"in e)||typeof ot=="function"&&ot instanceof ot&&typeof Lt=="function"&&Lt instanceof Lt||(ee=!1)}return m.delete(t),m.delete(e),ee},Lr=Te(h,"DataView"),Nr=Te(h,"Promise"),$r=Te(h,"Set"),Pr=Te(h,"WeakMap");var so="[object Map]",co="[object Promise]",lo="[object Set]",uo="[object WeakMap]",fo="[object DataView]",ha=X(Lr),_a=X(Ne),ma=X(Nr),ga=X($r),va=X(Pr),It=_e;(Lr&&It(new Lr(new ArrayBuffer(1)))!=fo||Ne&&It(new Ne)!=so||Nr&&It(Nr.resolve())!=co||$r&&It(new $r)!=lo||Pr&&It(new Pr)!=uo)&&(It=function(t){var e=_e(t),o=e=="[object Object]"?t.constructor:void 0,a=o?X(o):"";if(a)switch(a){case ha:return fo;case _a:return so;case ma:return co;case ga:return lo;case va:return uo}return e});const po=It;var ho="[object Arguments]",_o="[object Array]",er="[object Object]",mo=Object.prototype.hasOwnProperty;const ya=function(t,e,o,a,d,m){var w=$e(t),C=$e(e),j=w?_o:po(t),U=C?_o:po(e),q=(j=j==ho?er:j)==er,H=(U=U==ho?er:U)==er,K=j==U;if(K&&ue(t)){if(!ue(e))return!1;w=!0,q=!1}if(K&&!q)return m||(m=new et),w||nt(t)?ro(t,e,o,a,d,m):ia(t,e,j,o,a,d,m);if(!(1&o)){var ee=q&&mo.call(t,"__wrapped__"),Q=H&&mo.call(e,"__wrapped__");if(ee||Q){var se=ee?t.value():t,ge=Q?e.value():e;return m||(m=new et),d(se,ge,o,a,m)}}return!!K&&(m||(m=new et),da(t,e,o,a,d,m))},go=function t(e,o,a,d,m){return e===o||(e==null||o==null||!we(e)&&!we(o)?e!=e&&o!=o:ya(e,o,a,d,t,m))},ba=function(t,e,o,a){var d=o.length,m=d,w=!a;if(t==null)return!m;for(t=Object(t);d--;){var C=o[d];if(w&&C[2]?C[1]!==t[C[0]]:!(C[0]in t))return!1}for(;++d<m;){var j=(C=o[d])[0],U=t[j],q=C[1];if(w&&C[2]){if(U===void 0&&!(j in t))return!1}else{var H=new et;if(a)var K=a(U,q,j,t,e,H);if(!(K===void 0?go(q,U,3,a,H):K))return!1}}return!0},vo=function(t){return t==t&&!Pe(t)},wa=function(t){for(var e=jr(t),o=e.length;o--;){var a=e[o],d=t[a];e[o]=[a,d,vo(d)]}return e},yo=function(t,e){return function(o){return o!=null&&o[t]===e&&(e!==void 0||t in Object(o))}},ka=function(t){var e=wa(t);return e.length==1&&e[0][2]?yo(e[0][0],e[0][1]):function(o){return o===t||ba(o,t,e)}},Fr=function(t){return typeof t=="symbol"||we(t)&&_e(t)=="[object Symbol]"};var xa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ca=/^\w*$/;const Rr=function(t,e){if($e(t))return!1;var o=typeof t;return!(o!="number"&&o!="symbol"&&o!="boolean"&&t!=null&&!Fr(t))||Ca.test(t)||!xa.test(t)||e!=null&&t in Object(e)};function Mr(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var o=function(){var a=arguments,d=e?e.apply(this,a):a[0],m=o.cache;if(m.has(d))return m.get(d);var w=t.apply(this,a);return o.cache=m.set(d,w)||m,w};return o.cache=new(Mr.Cache||Re),o}Mr.Cache=Re;const Sa=Mr;var Ea=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Oa=/\\(\\)?/g;const Aa=function(t){var e=Sa(t,function(a){return o.size===500&&o.clear(),a}),o=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Ea,function(o,a,d,m){e.push(d?m.replace(Oa,"$1"):a||o)}),e}),Ta=function(t,e){for(var o=-1,a=t==null?0:t.length,d=Array(a);++o<a;)d[o]=e(t[o],o,t);return d};var bo=y?y.prototype:void 0,wo=bo?bo.toString:void 0;const ja=function t(e){if(typeof e=="string")return e;if($e(e))return Ta(e,t)+"";if(Fr(e))return wo?wo.call(e):"";var o=e+"";return o=="0"&&1/e==-1/0?"-0":o},Ia=function(t){return t==null?"":ja(t)},ko=function(t,e){return $e(t)?t:Rr(t,e)?[t]:Aa(Ia(t))},tr=function(t){if(typeof t=="string"||Fr(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},xo=function(t,e){for(var o=0,a=(e=ko(e,t)).length;t!=null&&o<a;)t=t[tr(e[o++])];return o&&o==a?t:void 0},La=function(t,e,o){var a=t==null?void 0:xo(t,e);return a===void 0?o:a},Na=function(t,e){return t!=null&&e in Object(t)},$a=function(t,e,o){for(var a=-1,d=(e=ko(e,t)).length,m=!1;++a<d;){var w=tr(e[a]);if(!(m=t!=null&&o(t,w)))break;t=t[w]}return m||++a!=d?m:!!(d=t==null?0:t.length)&&an(d)&&Dt(w,d)&&($e(t)||Rt(t))},Pa=function(t,e){return t!=null&&$a(t,e,Na)},Fa=function(t,e){return Rr(t)&&vo(e)?yo(tr(t),e):function(o){var a=La(o,t);return a===void 0&&a===e?Pa(o,t):go(e,a,3)}},Ra=function(t){return function(e){return e==null?void 0:e[t]}},Ma=function(t){return function(e){return xo(e,t)}},Da=function(t){return Rr(t)?Ra(tr(t)):Ma(t)},Ua=function(t){return typeof t=="function"?t:t==null?zt:typeof t=="object"?$e(t)?Fa(t[0],t[1]):ka(t):Da(t)},qa=function(t,e){var o={};return e=Ua(e),Qi(t,function(a,d,m){Ft(o,e(a,d,m),a)}),o};function Co(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}class za{constructor(e,o){Co(this,"ctx",void 0),Co(this,"serviceHooks",void 0),this.ctx=e,this.serviceHooks=o,e._execCallableAPI("register-search-service",e.baseInfo.id,o.name,o.options),Object.entries({query:{f:"onQuery",args:["graph","q",!0],reply:!0,transformOutput:a=>($e(a==null?void 0:a.blocks)&&(a.blocks=a.blocks.map(d=>d&&qa(d,(m,w)=>`block/${w}`))),a)},rebuildBlocksIndice:{f:"onIndiceInit",args:["graph","blocks"]},transactBlocks:{f:"onBlocksChanged",args:["graph","data"]},truncateBlocks:{f:"onIndiceReset",args:["graph"]},removeDb:{f:"onGraph",args:["graph"]}}).forEach(([a,d])=>{const m=(w=>`service:search:${w}:${o.name}`)(a);e.caller.on(m,async w=>{if(E(o==null?void 0:o[d.f])){let C=null;try{C=await o[d.f].apply(o,(d.args||[]).map(j=>{if(w){if(j===!0)return w;if(w.hasOwnProperty(j)){const U=w[j];return delete w[j],U}}})),d.transformOutput&&(C=d.transformOutput(C))}catch(j){console.error("[SearchService] ",j),C=j}finally{d.reply&&e.caller.call(`${m}:reply`,C)}}})})}}function He(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}const Ha=Symbol.for("proxy-continue"),Ba=ze()("LSPlugin:user"),So=new ae("",{console:!0});function Wt(t,e,o){var a;if(typeof o!="function")return!1;const{key:d,label:m,desc:w,palette:C,keybinding:j,extras:U}=e,q=`SimpleCommandHook${d}${++Ao}`;this.Editor["on"+q](o),(a=this.caller)===null||a===void 0||a.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:d,label:m,type:t,desc:w,keybinding:j,extras:U},["editor/hook",q]],C]})}function Eo(t){return!(typeof(e=t)!="string"||e.length!==36||!/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(e))||(So.error(`#${t} is not a valid UUID string.`),!1);var e}let nr=null,Oo=new Map;const Wa={async getInfo(t){return nr||(nr=await this._execCallableAPIAsync("get-app-info")),typeof t=="string"?nr[t]:nr},registerCommand:Wt,registerSearchService(t){if(Oo.has(t.name))throw new Error(`SearchService: #${t.name} has registered!`);Oo.set(t.name,new za(this,t))},registerCommandPalette(t,e){const{key:o,label:a,keybinding:d}=t;return Wt.call(this,"$palette$",{key:o,label:a,palette:!0,keybinding:d},e)},registerCommandShortcut(t,e){const{binding:o}=t,a="$shortcut$",d=a+F(o);return Wt.call(this,a,{key:d,palette:!1,keybinding:t},e)},registerUIItem(t,e){var o;const a=this.baseInfo.id;(o=this.caller)===null||o===void 0||o.call("api:call",{method:"register-plugin-ui-item",args:[a,t,e]})},registerPageMenuItem(t,e){if(typeof e!="function")return!1;const o=t+"_"+this.baseInfo.id,a=t;Wt.call(this,"page-menu-item",{key:o,label:a},e)},onBlockRendererSlotted(t,e){if(!Eo(t))return;const o=this.baseInfo.id,a=`hook:editor:${F(`slot:${t}`)}`;return this.caller.on(a,e),this.App._installPluginHook(o,a),()=>{this.caller.off(a,e),this.App._uninstallPluginHook(o,a)}},invokeExternalPlugin(t,...e){var o;if(!(t=(o=t)===null||o===void 0?void 0:o.trim()))return;let[a,d]=t.split(".");if(!["models","commands"].includes(d==null?void 0:d.toLowerCase()))throw new Error("Type only support '.models' or '.commands' currently.");const m=t.replace(`${a}.${d}.`,"");if(!a||!d||!m)throw new Error(`Illegal type of #${t} to invoke external plugin.`);return this._execCallableAPIAsync("invoke_external_plugin_cmd",a,d.toLowerCase(),m,e)},setFullScreen(t){const e=(...o)=>this._callWin("setFullScreen",...o);t==="toggle"?this._callWin("isFullScreen").then(o=>{o?e():e(!0)}):t?e(!0):e()}};let Ao=0;const Ga={newBlockUUID(){return this._execCallableAPIAsync("new_block_uuid")},registerSlashCommand(t,e){var o;Ba("Register slash command #",this.baseInfo.id,t,e),typeof e=="function"&&(e=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",e]]),e=e.map(a=>{const[d,...m]=a;if(d==="editor/hook"){let w=m[0],C=()=>{var U;(U=this.caller)===null||U===void 0||U.callUserModel(w)};typeof w=="function"&&(C=w);const j=`SlashCommandHook${d}${++Ao}`;a[1]=j,this.Editor["on"+j](C)}return a}),(o=this.caller)===null||o===void 0||o.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[t,e]]})},registerBlockContextMenuItem(t,e){if(typeof e!="function")return!1;const o=t+"_"+this.baseInfo.id;Wt.call(this,"block-context-menu-item",{key:o,label:t},e)},registerHighlightContextMenuItem(t,e,o){if(typeof e!="function")return!1;const a=t+"_"+this.baseInfo.id;Wt.call(this,"highlight-context-menu-item",{key:a,label:t,extras:o},e)},scrollToBlockInPage(t,e,o){const a="block-content-"+e;o!=null&&o.replaceState?this.App.replaceState("page",{name:t},{anchor:a}):this.App.pushState("page",{name:t},{anchor:a})}},Va={onBlockChanged(t,e){if(!Eo(t))return;const o=this.baseInfo.id,a=`hook:db:${F(`block:${t}`)}`,d=({block:m,txData:w,txMeta:C})=>{m.uuid===t&&e(m,w,C)};return this.caller.on(a,d),this.App._installPluginHook(o,a),()=>{this.caller.off(a,d),this.App._uninstallPluginHook(o,a)}},datascriptQuery(t,...e){return e.pop(),e!=null&&e.some(o=>typeof o=="function")?this.Experiments.ensureHostScope().logseq.api.datascript_query(t,...e):this._execCallableAPIAsync("datascript_query",t,...e)}},Ja={},Ka={},Za={makeSandboxStorage(){return new to(this,{assets:!0})}};class Dr extends Tt(){constructor(e,o){super(),He(this,"_baseInfo",void 0),He(this,"_caller",void 0),He(this,"_version","0.0.15"),He(this,"_debugTag",""),He(this,"_settingsSchema",void 0),He(this,"_connected",!1),He(this,"_ui",new Map),He(this,"_mFileStorage",void 0),He(this,"_mRequest",void 0),He(this,"_mExperiments",void 0),He(this,"_beforeunloadCallback",void 0),this._baseInfo=e,this._caller=o,o.on("sys:ui:visible",a=>{a!=null&&a.toggle&&this.toggleMainUI()}),o.on("settings:changed",a=>{const d=Object.assign({},this.settings),m=Object.assign(this._baseInfo.settings,a);this.emit("settings:changed",{...m},d)}),o.on("beforeunload",async a=>{const{actor:d,...m}=a,w=this._beforeunloadCallback;try{w&&await w(m),d==null||d.resolve(null)}catch(C){console.debug(`${o.debugTag} [beforeunload] `,C),d==null||d.reject(C)}})}async ready(e,o){if(!this._connected)try{var a;typeof e=="function"&&(o=e,e={});let d=await this._caller.connectToParent(e);this._connected=!0,d=L(this._baseInfo,d),(a=d)!==null&&a!==void 0&&a.id&&(this._debugTag=this._caller.debugTag=`#${d.id} [${d.name}]`,this.logger.setTag(this._debugTag)),this._settingsSchema&&(d.settings=function(m,w){const C=(w||[]).reduce((j,U)=>("default"in U&&(j[U.key]=U.default),j),{});return Object.assign(C,m)}(d.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema));try{await this._execCallableAPIAsync("setSDKMetadata",{version:this._version})}catch(m){console.warn(m)}o&&o.call(this,d)}catch(d){console.error(`${this._debugTag} [Ready Error]`,d)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(e){typeof e=="function"&&(this._beforeunloadCallback=e)}provideModel(e){return this.caller._extendUserModel(e),this}provideTheme(e){return this.caller.call("provider:theme",e),this}provideStyle(e){return this.caller.call("provider:style",e),this}provideUI(e){return this.caller.call("provider:ui",e),this}useSettingsSchema(e){return this.connected&&this.caller.call("settings:schema",{schema:e,isSync:!0}),this._settingsSchema=e,this}updateSettings(e){this.caller.call("settings:update",e)}onSettingsChanged(e){const o="settings:changed";return this.on(o,e),()=>this.off(o,e)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(e){this.caller.call("main-ui:attrs",e)}setMainUIInlineStyle(e){this.caller.call("main-ui:style",e)}hideMainUI(e){const o={key:0,visible:!1,cursor:e==null?void 0:e.restoreEditingCursor};this.caller.call("main-ui:visible",o),this.emit("ui:visible:changed",o),this._ui.set(o.key,o)}showMainUI(e){const o={key:0,visible:!0,autoFocus:e==null?void 0:e.autoFocus};this.caller.call("main-ui:visible",o),this.emit("ui:visible:changed",o),this._ui.set(o.key,o)}toggleMainUI(){const o=this._ui.get(0);o&&o.visible?this.hideMainUI():this.showMainUI()}get version(){return this._version}get isMainUIVisible(){const e=this._ui.get(0);return!!(e&&e.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get effect(){return(e=this)&&(((o=e.baseInfo)===null||o===void 0?void 0:o.effect)||!((a=e.baseInfo)!==null&&a!==void 0&&a.iir));var e,o,a}get logger(){return So}get settings(){var e;return(e=this.baseInfo)===null||e===void 0?void 0:e.settings}get caller(){return this._caller}resolveResourceFullUrl(e){if(this.ensureConnected(),e)return e=e.replace(/^[.\\/]+/,""),de(this._baseInfo.lsr,e)}_makeUserProxy(e,o){const a=this,d=this.caller;return new Proxy(e,{get(m,w,C){const j=m[w];return function(...U){if(j){const H=j.apply(a,U.concat(o));if(H!==Ha)return H}if(o){const H=w.toString().match(/^(once|off|on)/i);if(H!=null){const K=H[0].toLowerCase(),ee=H.input.slice(K.length),Q=K==="off",se=a.baseInfo.id,ge=`hook:${o}:${F(ee)}`,Le=U[0],ot=U[1];d[K](ge,Le);const Lt=()=>{d.off(ge,Le),d.listenerCount(ge)||a.App._uninstallPluginHook(se,ge)};return Q?void Lt():(a.App._installPluginHook(se,ge,ot),Lt)}}let q=w;return["git","ui","assets"].includes(o)&&(q=o+"_"+q),d.callAsync("api:call",{tag:o,method:q,args:U})}}})}_execCallableAPIAsync(e,...o){return this._caller.callAsync("api:call",{method:e,args:o})}_execCallableAPI(e,...o){this._caller.call("api:call",{method:e,args:o})}_callWin(...e){return this._execCallableAPIAsync("_callMainWin",...e)}get App(){return this._makeUserProxy(Wa,"app")}get Editor(){return this._makeUserProxy(Ga,"editor")}get DB(){return this._makeUserProxy(Va,"db")}get Git(){return this._makeUserProxy(Ja,"git")}get UI(){return this._makeUserProxy(Ka,"ui")}get Assets(){return this._makeUserProxy(Za,"assets")}get FileStorage(){let e=this._mFileStorage;return e||(e=this._mFileStorage=new to(this)),e}get Request(){let e=this._mRequest;return e||(e=this._mRequest=new Tr(this)),e}get Experiments(){let e=this._mExperiments;return e||(e=this._mExperiments=new Gi(this)),e}}function To(t,e){return new Dr(t,e)}if(window.__LSP__HOST__==null){const t=new Wi(null);window.logseq=To({},t)}})(),c})())})(cr,cr.exports);cr.exports;const Xo="en";let or=Xo,ei={};async function Qa({defaultLocale:n=Xo,builtinTranslations:r}){or=(await logseq.App.getUserConfigs()).preferredLanguage,or!==n&&(r==null?void 0:r[or])!=null&&(ei=r)}function En(n,r){var s;const i=((s=ei[or])==null?void 0:s[n])??n;return r==null?i:Object.entries(r).reduce((l,[c,v])=>l.replaceAll(`\${${c}}`,v),i)}var Ln,G,ti,Gt,Nt,jo,ni,ri,lr={},oi=[],Ya=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function it(n,r){for(var i in r)n[i]=r[i];return n}function ii(n){var r=n.parentNode;r&&r.removeChild(n)}function st(n,r,i){var s,l,c,v={};for(c in r)c=="key"?s=r[c]:c=="ref"?l=r[c]:v[c]=r[c];if(arguments.length>2&&(v.children=arguments.length>3?Ln.call(arguments,2):i),typeof n=="function"&&n.defaultProps!=null)for(c in n.defaultProps)v[c]===void 0&&(v[c]=n.defaultProps[c]);return Tn(n,v,s,l,null)}function Tn(n,r,i,s,l){var c={type:n,props:r,key:i,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:l??++ti};return l==null&&G.vnode!=null&&G.vnode(c),c}function Xa(){return{current:null}}function ct(n){return n.children}function es(n,r,i,s,l){var c;for(c in i)c==="children"||c==="key"||c in r||ur(n,c,null,i[c],s);for(c in r)l&&typeof r[c]!="function"||c==="children"||c==="key"||c==="value"||c==="checked"||i[c]===r[c]||ur(n,c,r[c],i[c],s)}function Io(n,r,i){r[0]==="-"?n.setProperty(r,i??""):n[r]=i==null?"":typeof i!="number"||Ya.test(r)?i:i+"px"}function ur(n,r,i,s,l){var c;e:if(r==="style")if(typeof i=="string")n.style.cssText=i;else{if(typeof s=="string"&&(n.style.cssText=s=""),s)for(r in s)i&&r in i||Io(n.style,r,"");if(i)for(r in i)s&&i[r]===s[r]||Io(n.style,r,i[r])}else if(r[0]==="o"&&r[1]==="n")c=r!==(r=r.replace(/Capture$/,"")),r=r.toLowerCase()in n?r.toLowerCase().slice(2):r.slice(2),n.l||(n.l={}),n.l[r+c]=i,i?s||n.addEventListener(r,c?No:Lo,c):n.removeEventListener(r,c?No:Lo,c);else if(r!=="dangerouslySetInnerHTML"){if(l)r=r.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(r!=="width"&&r!=="height"&&r!=="href"&&r!=="list"&&r!=="form"&&r!=="tabIndex"&&r!=="download"&&r in n)try{n[r]=i??"";break e}catch{}typeof i=="function"||(i==null||i===!1&&r.indexOf("-")==-1?n.removeAttribute(r):n.setAttribute(r,i))}}function Lo(n){Gt=!0;try{return this.l[n.type+!1](G.event?G.event(n):n)}finally{Gt=!1}}function No(n){Gt=!0;try{return this.l[n.type+!0](G.event?G.event(n):n)}finally{Gt=!1}}function Ye(n,r){this.props=n,this.context=r}function jn(n,r){if(r==null)return n.__?jn(n.__,n.__.__k.indexOf(n)+1):null;for(var i;r<n.__k.length;r++)if((i=n.__k[r])!=null&&i.__e!=null)return i.__e;return typeof n.type=="function"?jn(n):null}function ai(n){var r,i;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,r=0;r<n.__k.length;r++)if((i=n.__k[r])!=null&&i.__e!=null){n.__e=n.__c.base=i.__e;break}return ai(n)}}function ts(n){Gt?setTimeout(n):ni(n)}function zr(n){(!n.__d&&(n.__d=!0)&&Nt.push(n)&&!fr.__r++||jo!==G.debounceRendering)&&((jo=G.debounceRendering)||ts)(fr)}function fr(){var n,r,i,s,l,c,v,p;for(Nt.sort(function(b,k){return b.__v.__b-k.__v.__b});n=Nt.shift();)n.__d&&(r=Nt.length,s=void 0,l=void 0,v=(c=(i=n).__v).__e,(p=i.__P)&&(s=[],(l=it({},c)).__v=c.__v+1,Vr(p,c,l,i.__n,p.ownerSVGElement!==void 0,c.__h!=null?[v]:null,s,v??jn(c),c.__h),fi(s,c),c.__e!=v&&ai(c)),Nt.length>r&&Nt.sort(function(b,k){return b.__v.__b-k.__v.__b}));fr.__r=0}function si(n,r,i,s,l,c,v,p,b,k){var u,O,x,_,g,A,S,$=s&&s.__k||oi,P=$.length;for(i.__k=[],u=0;u<r.length;u++)if((_=i.__k[u]=(_=r[u])==null||typeof _=="boolean"?null:typeof _=="string"||typeof _=="number"||typeof _=="bigint"?Tn(null,_,null,null,_):Array.isArray(_)?Tn(ct,{children:_},null,null,null):_.__b>0?Tn(_.type,_.props,_.key,_.ref?_.ref:null,_.__v):_)!=null){if(_.__=i,_.__b=i.__b+1,(x=$[u])===null||x&&_.key==x.key&&_.type===x.type)$[u]=void 0;else for(O=0;O<P;O++){if((x=$[O])&&_.key==x.key&&_.type===x.type){$[O]=void 0;break}x=null}Vr(n,_,x=x||lr,l,c,v,p,b,k),g=_.__e,(O=_.ref)&&x.ref!=O&&(S||(S=[]),x.ref&&S.push(x.ref,null,_),S.push(O,_.__c||g,_)),g!=null?(A==null&&(A=g),typeof _.type=="function"&&_.__k===x.__k?_.__d=b=ci(_,b,n):b=li(n,_,x,$,g,b),typeof i.type=="function"&&(i.__d=b)):b&&x.__e==b&&b.parentNode!=n&&(b=jn(x))}for(i.__e=A,u=P;u--;)$[u]!=null&&(typeof i.type=="function"&&$[u].__e!=null&&$[u].__e==i.__d&&(i.__d=ui(s).nextSibling),di($[u],$[u]));if(S)for(u=0;u<S.length;u++)pi(S[u],S[++u],S[++u])}function ci(n,r,i){for(var s,l=n.__k,c=0;l&&c<l.length;c++)(s=l[c])&&(s.__=n,r=typeof s.type=="function"?ci(s,r,i):li(i,s,s,l,s.__e,r));return r}function at(n,r){return r=r||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(i){at(i,r)}):r.push(n)),r}function li(n,r,i,s,l,c){var v,p,b;if(r.__d!==void 0)v=r.__d,r.__d=void 0;else if(i==null||l!=c||l.parentNode==null)e:if(c==null||c.parentNode!==n)n.appendChild(l),v=null;else{for(p=c,b=0;(p=p.nextSibling)&&b<s.length;b+=1)if(p==l)break e;n.insertBefore(l,c),v=c}return v!==void 0?v:l.nextSibling}function ui(n){var r,i,s;if(n.type==null||typeof n.type=="string")return n.__e;if(n.__k){for(r=n.__k.length-1;r>=0;r--)if((i=n.__k[r])&&(s=ui(i)))return s}return null}function Vr(n,r,i,s,l,c,v,p,b){var k,u,O,x,_,g,A,S,$,P,B,J,M,z,h,y=r.type;if(r.constructor!==void 0)return null;i.__h!=null&&(b=i.__h,p=r.__e=i.__e,r.__h=null,c=[p]),(k=G.__b)&&k(r);try{e:if(typeof y=="function"){if(S=r.props,$=(k=y.contextType)&&s[k.__c],P=k?$?$.props.value:k.__:s,i.__c?A=(u=r.__c=i.__c).__=u.__E:("prototype"in y&&y.prototype.render?r.__c=u=new y(S,P):(r.__c=u=new Ye(S,P),u.constructor=y,u.render=rs),$&&$.sub(u),u.props=S,u.state||(u.state={}),u.context=P,u.__n=s,O=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),y.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=it({},u.__s)),it(u.__s,y.getDerivedStateFromProps(S,u.__s))),x=u.props,_=u.state,u.__v=r,O)y.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(y.getDerivedStateFromProps==null&&S!==x&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(S,P),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(S,u.__s,P)===!1||r.__v===i.__v){for(r.__v!==i.__v&&(u.props=S,u.state=u.__s,u.__d=!1),r.__e=i.__e,r.__k=i.__k,r.__k.forEach(function(T){T&&(T.__=r)}),B=0;B<u._sb.length;B++)u.__h.push(u._sb[B]);u._sb=[],u.__h.length&&v.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(S,u.__s,P),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(x,_,g)})}if(u.context=P,u.props=S,u.__P=n,J=G.__r,M=0,"prototype"in y&&y.prototype.render){for(u.state=u.__s,u.__d=!1,J&&J(r),k=u.render(u.props,u.state,u.context),z=0;z<u._sb.length;z++)u.__h.push(u._sb[z]);u._sb=[]}else do u.__d=!1,J&&J(r),k=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++M<25);u.state=u.__s,u.getChildContext!=null&&(s=it(it({},s),u.getChildContext())),O||u.getSnapshotBeforeUpdate==null||(g=u.getSnapshotBeforeUpdate(x,_)),h=k!=null&&k.type===ct&&k.key==null?k.props.children:k,si(n,Array.isArray(h)?h:[h],r,i,s,l,c,v,p,b),u.base=r.__e,r.__h=null,u.__h.length&&v.push(u),A&&(u.__E=u.__=null),u.__e=!1}else c==null&&r.__v===i.__v?(r.__k=i.__k,r.__e=i.__e):r.__e=ns(i.__e,r,i,s,l,c,v,b);(k=G.diffed)&&k(r)}catch(T){r.__v=null,(b||c!=null)&&(r.__e=p,r.__h=!!b,c[c.indexOf(p)]=null),G.__e(T,r,i)}}function fi(n,r){G.__c&&G.__c(r,n),n.some(function(i){try{n=i.__h,i.__h=[],n.some(function(s){s.call(i)})}catch(s){G.__e(s,i.__v)}})}function ns(n,r,i,s,l,c,v,p){var b,k,u,O=i.props,x=r.props,_=r.type,g=0;if(_==="svg"&&(l=!0),c!=null){for(;g<c.length;g++)if((b=c[g])&&"setAttribute"in b==!!_&&(_?b.localName===_:b.nodeType===3)){n=b,c[g]=null;break}}if(n==null){if(_===null)return document.createTextNode(x);n=l?document.createElementNS("http://www.w3.org/2000/svg",_):document.createElement(_,x.is&&x),c=null,p=!1}if(_===null)O===x||p&&n.data===x||(n.data=x);else{if(c=c&&Ln.call(n.childNodes),k=(O=i.props||lr).dangerouslySetInnerHTML,u=x.dangerouslySetInnerHTML,!p){if(c!=null)for(O={},g=0;g<n.attributes.length;g++)O[n.attributes[g].name]=n.attributes[g].value;(u||k)&&(u&&(k&&u.__html==k.__html||u.__html===n.innerHTML)||(n.innerHTML=u&&u.__html||""))}if(es(n,x,O,l,p),u)r.__k=[];else if(g=r.props.children,si(n,Array.isArray(g)?g:[g],r,i,s,l&&_!=="foreignObject",c,v,c?c[0]:i.__k&&jn(i,0),p),c!=null)for(g=c.length;g--;)c[g]!=null&&ii(c[g]);p||("value"in x&&(g=x.value)!==void 0&&(g!==n.value||_==="progress"&&!g||_==="option"&&g!==O.value)&&ur(n,"value",g,O.value,!1),"checked"in x&&(g=x.checked)!==void 0&&g!==n.checked&&ur(n,"checked",g,O.checked,!1))}return n}function pi(n,r,i){try{typeof n=="function"?n(r):n.current=r}catch(s){G.__e(s,i)}}function di(n,r,i){var s,l;if(G.unmount&&G.unmount(n),(s=n.ref)&&(s.current&&s.current!==n.__e||pi(s,null,r)),(s=n.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(c){G.__e(c,r)}s.base=s.__P=null,n.__c=void 0}if(s=n.__k)for(l=0;l<s.length;l++)s[l]&&di(s[l],r,i||typeof n.type!="function");i||n.__e==null||ii(n.__e),n.__=n.__e=n.__d=void 0}function rs(n,r,i){return this.constructor(n,i)}function Vt(n,r,i){var s,l,c;G.__&&G.__(n,r),l=(s=typeof i=="function")?null:i&&i.__k||r.__k,c=[],Vr(r,n=(!s&&i||r).__k=st(ct,null,[n]),l||lr,lr,r.ownerSVGElement!==void 0,!s&&i?[i]:l?null:r.firstChild?Ln.call(r.childNodes):null,c,!s&&i?i:l?l.__e:r.firstChild,s),fi(c,n)}function hi(n,r){Vt(n,r,hi)}function os(n,r,i){var s,l,c,v=it({},n.props);for(c in r)c=="key"?s=r[c]:c=="ref"?l=r[c]:v[c]=r[c];return arguments.length>2&&(v.children=arguments.length>3?Ln.call(arguments,2):i),Tn(n.type,v,s||n.key,l||n.ref,null)}function is(n,r){var i={__c:r="__cC"+ri++,__:n,Consumer:function(s,l){return s.children(l)},Provider:function(s){var l,c;return this.getChildContext||(l=[],(c={})[r]=this,this.getChildContext=function(){return c},this.shouldComponentUpdate=function(v){this.props.value!==v.value&&l.some(function(p){p.__e=!0,zr(p)})},this.sub=function(v){l.push(v);var p=v.componentWillUnmount;v.componentWillUnmount=function(){l.splice(l.indexOf(v),1),p&&p.call(v)}}),s.children}};return i.Provider.__=i.Consumer.contextType=i}Ln=oi.slice,G={__e:function(n,r,i,s){for(var l,c,v;r=r.__;)if((l=r.__c)&&!l.__)try{if((c=l.constructor)&&c.getDerivedStateFromError!=null&&(l.setState(c.getDerivedStateFromError(n)),v=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(n,s||{}),v=l.__d),v)return l.__E=l}catch(p){n=p}throw n}},ti=0,Gt=!1,Ye.prototype.setState=function(n,r){var i;i=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=it({},this.state),typeof n=="function"&&(n=n(it({},i),this.props)),n&&it(i,n),n!=null&&this.__v&&(r&&this._sb.push(r),zr(this))},Ye.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),zr(this))},Ye.prototype.render=ct,Nt=[],ni=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,fr.__r=0,ri=0;const{isArray:as}=Array;function ss(n,r){const i={},s={};return Object.entries(r).forEach(([l,c])=>{n(c,l)?i[l]=c:s[l]=c}),[i,s]}function cs(n,r,i=!1){const s=[],l=[];let c=-1;for(;c++<r.length-1;)(i?n(r[c],c):n(r[c]))?s.push(r[c]):l.push(r[c]);return[s,l]}function _i(n,r){return arguments.length===1?i=>_i(n,i):as(r)?cs(n,r):ss(n,r)}function ls(n,r){let i=!1,s;return function(...l){return i||(s=n.apply(null,l),i=!0,setTimeout(()=>{i=!1},r)),s}}var $t,he,Ur,$o,Jt=0,mi=[],ir=[],Po=G.__b,Fo=G.__r,Ro=G.diffed,Mo=G.__c,Do=G.unmount;function Zt(n,r){G.__h&&G.__h(he,n,Jt||r),Jt=0;var i=he.__H||(he.__H={__:[],__h:[]});return n>=i.__.length&&i.__.push({__V:ir}),i.__[n]}function In(n){return Jt=1,gi(vi,n)}function gi(n,r,i){var s=Zt($t++,2);if(s.t=n,!s.__c&&(s.__=[i?i(r):vi(void 0,r),function(c){var v=s.__N?s.__N[0]:s.__[0],p=s.t(v,c);v!==p&&(s.__N=[p,s.__[1]],s.__c.setState({}))}],s.__c=he,!he.u)){he.u=!0;var l=he.shouldComponentUpdate;he.shouldComponentUpdate=function(c,v,p){if(!s.__c.__H)return!0;var b=s.__c.__H.__.filter(function(u){return u.__c});if(b.every(function(u){return!u.__N}))return!l||l.call(this,c,v,p);var k=!1;return b.forEach(function(u){if(u.__N){var O=u.__[0];u.__=u.__N,u.__N=void 0,O!==u.__[0]&&(k=!0)}}),!(!k&&s.__c.props===c)&&(!l||l.call(this,c,v,p))}}return s.__N||s.__}function yt(n,r){var i=Zt($t++,3);!G.__s&&Kr(i.__H,r)&&(i.__=n,i.i=r,he.__H.__h.push(i))}function Qt(n,r){var i=Zt($t++,4);!G.__s&&Kr(i.__H,r)&&(i.__=n,i.i=r,he.__h.push(i))}function lt(n){return Jt=5,Jr(function(){return{current:n}},[])}function us(n,r,i){Jt=6,Qt(function(){return typeof n=="function"?(n(r()),function(){return n(null)}):n?(n.current=r(),function(){return n.current=null}):void 0},i==null?i:i.concat(n))}function Jr(n,r){var i=Zt($t++,7);return Kr(i.__H,r)?(i.__V=n(),i.i=r,i.__h=n,i.__V):i.__}function fs(n,r){return Jt=8,Jr(function(){return n},r)}function ps(n){var r=he.context[n.__c],i=Zt($t++,9);return i.c=n,r?(i.__==null&&(i.__=!0,r.sub(he)),r.props.value):n.__}function ds(n,r){G.useDebugValue&&G.useDebugValue(r?r(n):n)}function hs(){var n=Zt($t++,11);if(!n.__){for(var r=he.__v;r!==null&&!r.__m&&r.__!==null;)r=r.__;var i=r.__m||(r.__m=[0,0]);n.__="P"+i[0]+"-"+i[1]++}return n.__}function _s(){for(var n;n=mi.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(ar),n.__H.__h.forEach(Hr),n.__H.__h=[]}catch(r){n.__H.__h=[],G.__e(r,n.__v)}}G.__b=function(n){he=null,Po&&Po(n)},G.__r=function(n){Fo&&Fo(n),$t=0;var r=(he=n.__c).__H;r&&(Ur===he?(r.__h=[],he.__h=[],r.__.forEach(function(i){i.__N&&(i.__=i.__N),i.__V=ir,i.__N=i.i=void 0})):(r.__h.forEach(ar),r.__h.forEach(Hr),r.__h=[])),Ur=he},G.diffed=function(n){Ro&&Ro(n);var r=n.__c;r&&r.__H&&(r.__H.__h.length&&(mi.push(r)!==1&&$o===G.requestAnimationFrame||(($o=G.requestAnimationFrame)||ms)(_s)),r.__H.__.forEach(function(i){i.i&&(i.__H=i.i),i.__V!==ir&&(i.__=i.__V),i.i=void 0,i.__V=ir})),Ur=he=null},G.__c=function(n,r){r.some(function(i){try{i.__h.forEach(ar),i.__h=i.__h.filter(function(s){return!s.__||Hr(s)})}catch(s){r.some(function(l){l.__h&&(l.__h=[])}),r=[],G.__e(s,i.__v)}}),Mo&&Mo(n,r)},G.unmount=function(n){Do&&Do(n);var r,i=n.__c;i&&i.__H&&(i.__H.__.forEach(function(s){try{ar(s)}catch(l){r=l}}),i.__H=void 0,r&&G.__e(r,i.__v))};var Uo=typeof requestAnimationFrame=="function";function ms(n){var r,i=function(){clearTimeout(s),Uo&&cancelAnimationFrame(r),setTimeout(n)},s=setTimeout(i,100);Uo&&(r=requestAnimationFrame(i))}function ar(n){var r=he,i=n.__c;typeof i=="function"&&(n.__c=void 0,i()),he=r}function Hr(n){var r=he;n.__c=n.__(),he=r}function Kr(n,r){return!n||n.length!==r.length||r.some(function(i,s){return i!==n[s]})}function vi(n,r){return typeof r=="function"?r(n):r}function yi(n,r){for(var i in r)n[i]=r[i];return n}function Br(n,r){for(var i in n)if(i!=="__source"&&!(i in r))return!0;for(var s in r)if(s!=="__source"&&n[s]!==r[s])return!0;return!1}function qr(n,r){return n===r&&(n!==0||1/n==1/r)||n!=n&&r!=r}function Wr(n){this.props=n}function Zr(n,r){function i(l){var c=this.props.ref,v=c==l.ref;return!v&&c&&(c.call?c(null):c.current=null),r?!r(this.props,l)||!v:Br(this.props,l)}function s(l){return this.shouldComponentUpdate=i,st(n,l)}return s.displayName="Memo("+(n.displayName||n.name)+")",s.prototype.isReactComponent=!0,s.__f=!0,s}(Wr.prototype=new Ye).isPureReactComponent=!0,Wr.prototype.shouldComponentUpdate=function(n,r){return Br(this.props,n)||Br(this.state,r)};var qo=G.__b;G.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),qo&&qo(n)};var gs=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function vs(n){function r(i){var s=yi({},i);return delete s.ref,n(s,i.ref||null)}return r.$$typeof=gs,r.render=r,r.prototype.isReactComponent=r.__f=!0,r.displayName="ForwardRef("+(n.displayName||n.name)+")",r}var zo=function(n,r){return n==null?null:at(at(n).map(r))},ys={map:zo,forEach:zo,count:function(n){return n?at(n).length:0},only:function(n){var r=at(n);if(r.length!==1)throw"Children.only";return r[0]},toArray:at},bs=G.__e;G.__e=function(n,r,i,s){if(n.then){for(var l,c=r;c=c.__;)if((l=c.__c)&&l.__c)return r.__e==null&&(r.__e=i.__e,r.__k=i.__k),l.__c(n,r)}bs(n,r,i,s)};var Ho=G.unmount;function bi(n,r,i){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(s){typeof s.__c=="function"&&s.__c()}),n.__c.__H=null),(n=yi({},n)).__c!=null&&(n.__c.__P===i&&(n.__c.__P=r),n.__c=null),n.__k=n.__k&&n.__k.map(function(s){return bi(s,r,i)})),n}function wi(n,r,i){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(s){return wi(s,r,i)}),n.__c&&n.__c.__P===r&&(n.__e&&i.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=i)),n}function sr(){this.__u=0,this.t=null,this.__b=null}function ki(n){var r=n.__.__c;return r&&r.__a&&r.__a(n)}function ws(n){var r,i,s;function l(c){if(r||(r=n()).then(function(v){i=v.default||v},function(v){s=v}),s)throw s;if(!i)throw r;return st(i,c)}return l.displayName="Lazy",l.__f=!0,l}function An(){this.u=null,this.o=null}G.unmount=function(n){var r=n.__c;r&&r.__R&&r.__R(),r&&n.__h===!0&&(n.type=null),Ho&&Ho(n)},(sr.prototype=new Ye).__c=function(n,r){var i=r.__c,s=this;s.t==null&&(s.t=[]),s.t.push(i);var l=ki(s.__v),c=!1,v=function(){c||(c=!0,i.__R=null,l?l(p):p())};i.__R=v;var p=function(){if(!--s.__u){if(s.state.__a){var k=s.state.__a;s.__v.__k[0]=wi(k,k.__c.__P,k.__c.__O)}var u;for(s.setState({__a:s.__b=null});u=s.t.pop();)u.forceUpdate()}},b=r.__h===!0;s.__u++||b||s.setState({__a:s.__b=s.__v.__k[0]}),n.then(v,v)},sr.prototype.componentWillUnmount=function(){this.t=[]},sr.prototype.render=function(n,r){if(this.__b){if(this.__v.__k){var i=document.createElement("div"),s=this.__v.__k[0].__c;this.__v.__k[0]=bi(this.__b,i,s.__O=s.__P)}this.__b=null}var l=r.__a&&st(ct,null,n.fallback);return l&&(l.__h=null),[st(ct,null,r.__a?null:n.children),l]};var Bo=function(n,r,i){if(++i[1]===i[0]&&n.o.delete(r),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(i=n.u;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;n.u=i=i[2]}};function ks(n){return this.getChildContext=function(){return n.context},n.children}function xs(n){var r=this,i=n.i;r.componentWillUnmount=function(){Vt(null,r.l),r.l=null,r.i=null},r.i&&r.i!==i&&r.componentWillUnmount(),n.__v?(r.l||(r.i=i,r.l={nodeType:1,parentNode:i,childNodes:[],appendChild:function(s){this.childNodes.push(s),r.i.appendChild(s)},insertBefore:function(s,l){this.childNodes.push(s),r.i.appendChild(s)},removeChild:function(s){this.childNodes.splice(this.childNodes.indexOf(s)>>>1,1),r.i.removeChild(s)}}),Vt(st(ks,{context:r.context},n.__v),r.l)):r.l&&r.componentWillUnmount()}function xi(n,r){var i=st(xs,{__v:n,i:r});return i.containerInfo=r,i}(An.prototype=new Ye).__a=function(n){var r=this,i=ki(r.__v),s=r.o.get(n);return s[0]++,function(l){var c=function(){r.props.revealOrder?(s.push(l),Bo(r,n,s)):l()};i?i(c):c()}},An.prototype.render=function(n){this.u=null,this.o=new Map;var r=at(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&r.reverse();for(var i=r.length;i--;)this.o.set(r[i],this.u=[1,0,this.u]);return n.children},An.prototype.componentDidUpdate=An.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(r,i){Bo(n,i,r)})};var Ci=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Cs=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ss=typeof document<"u",Es=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};function Os(n,r,i){return r.__k==null&&(r.textContent=""),Vt(n,r),typeof i=="function"&&i(),n?n.__c:null}function As(n,r,i){return hi(n,r),typeof i=="function"&&i(),n?n.__c:null}Ye.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(Ye.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(r){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:r})}})});var Wo=G.event;function Ts(){}function js(){return this.cancelBubble}function Is(){return this.defaultPrevented}G.event=function(n){return Wo&&(n=Wo(n)),n.persist=Ts,n.isPropagationStopped=js,n.isDefaultPrevented=Is,n.nativeEvent=n};var Si,Go={configurable:!0,get:function(){return this.class}},Vo=G.vnode;G.vnode=function(n){var r=n.type,i=n.props,s=i;if(typeof r=="string"){var l=r.indexOf("-")===-1;for(var c in s={},i){var v=i[c];Ss&&c==="children"&&r==="noscript"||c==="value"&&"defaultValue"in i&&v==null||(c==="defaultValue"&&"value"in i&&i.value==null?c="value":c==="download"&&v===!0?v="":/ondoubleclick/i.test(c)?c="ondblclick":/^onchange(textarea|input)/i.test(c+r)&&!Es(i.type)?c="oninput":/^onfocus$/i.test(c)?c="onfocusin":/^onblur$/i.test(c)?c="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(c)?c=c.toLowerCase():l&&Cs.test(c)?c=c.replace(/[A-Z0-9]/g,"-$&").toLowerCase():v===null&&(v=void 0),/^oninput$/i.test(c)&&(c=c.toLowerCase(),s[c]&&(c="oninputCapture")),s[c]=v)}r=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=at(i.children).forEach(function(p){p.props.selected=s.value.indexOf(p.props.value)!=-1})),r=="select"&&s.defaultValue!=null&&(s.value=at(i.children).forEach(function(p){p.props.selected=s.multiple?s.defaultValue.indexOf(p.props.value)!=-1:s.defaultValue==p.props.value})),n.props=s,i.class!=i.className&&(Go.enumerable="className"in i,i.className!=null&&(s.class=i.className),Object.defineProperty(s,"className",Go))}n.$$typeof=Ci,Vo&&Vo(n)};var Jo=G.__r;G.__r=function(n){Jo&&Jo(n),Si=n.__c};var Ls={ReactCurrentDispatcher:{current:{readContext:function(n){return Si.__n[n.__c].props.value}}}};function Ns(n){return st.bind(null,n)}function Ei(n){return!!n&&n.$$typeof===Ci}function Qr(n){return Ei(n)?os.apply(null,arguments):n}function $s(n){return!!n.__k&&(Vt(null,n),!0)}function Ps(n){return n&&(n.base||n.nodeType===1&&n)||null}var Fs=function(n,r){return n(r)},Rs=function(n,r){return n(r)},Ms=ct;function Oi(n){n()}function Ds(n){return n}function Us(){return[!1,Oi]}var qs=Qt;function zs(n,r){var i=r(),s=In({h:{__:i,v:r}}),l=s[0].h,c=s[1];return Qt(function(){l.__=i,l.v=r,qr(l.__,r())||c({h:l})},[n,i,r]),yt(function(){return qr(l.__,l.v())||c({h:l}),n(function(){qr(l.__,l.v())||c({h:l})})},[n]),i}var Qe={useState:In,useId:hs,useReducer:gi,useEffect:yt,useLayoutEffect:Qt,useInsertionEffect:qs,useTransition:Us,useDeferredValue:Ds,useSyncExternalStore:zs,startTransition:Oi,useRef:lt,useImperativeHandle:us,useMemo:Jr,useCallback:fs,useContext:ps,useDebugValue:ds,version:"17.0.2",Children:ys,render:Os,hydrate:As,unmountComponentAtNode:$s,createPortal:xi,createElement:st,createContext:is,createFactory:Ns,cloneElement:Qr,createRef:Xa,Fragment:ct,isValidElement:Ei,findDOMNode:Ps,Component:Ye,PureComponent:Wr,memo:Zr,forwardRef:vs,flushSync:Rs,unstable_batchedUpdates:Fs,StrictMode:Ms,Suspense:sr,SuspenseList:An,lazy:ws,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Ls};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Kt=function(){return Kt=Object.assign||function(r){for(var i,s=1,l=arguments.length;s<l;s++){i=arguments[s];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(r[c]=i[c])}return r},Kt.apply(this,arguments)};function Ai(n,r){var i={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&r.indexOf(s)<0&&(i[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(n);l<s.length;l++)r.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(n,s[l])&&(i[s[l]]=n[s[l]]);return i}function bt(n){var r=lt();return yt(function(){r.current=n}),r.current}Zr(function(r){var i=r.kpvId,s=r.kpvComponent,l=r.kpvRender,c=Ai(r,["kpvId","kpvComponent","kpvRender"]),v=bt(i),p=bt(v),b=i===p,k=Hs(b),u=s,O=l?l(Kt({kpvRestored:b,kpvScrollElementRef:k},c)):Qe.createElement(u,Kt({kpvRestored:b,kpvScrollElementRef:k},c)),x=bt(O);return Qe.createElement(Qe.Fragment,null,Qe.createElement("div",{key:v,style:{display:"none"}},x===void 0?void 0:Qr(x,{kpvRestored:!1})),Qe.createElement("div",{key:i},O))},function(n,r){return n.kpvId===r.kpvId});function Hs(n){var r,i=lt(),s=bt(i.current),l=lt();l.current=(r=i.current)===null||r===void 0?void 0:r.scrollTop;var c=bt(l.current);return Qt(function(){n&&s!=null&&c!=null&&(s.scrollTop=c)}),i}Zr(function(r){var i=r.kvId,s=r.kvPrefix,l=r.kvComponent,c=r.kvRender,v=Ai(r,["kvId","kvPrefix","kvComponent","kvRender"]),p=lt(),b=lt(),k=bt(i),u=i===p.current;u&&(p.current=void 0,b.current=void 0);var O=!!(k!=null&&k.startsWith(s)),x=Bs(O,u),_=l,g=c?c(Kt({kvRestored:u,kvScrollElementRef:x},v)):Qe.createElement(_,Kt({kvRestored:u,kvScrollElementRef:x},v)),A=bt(g);return O&&(p.current=k,b.current=A),Qe.createElement(Qe.Fragment,null,Qe.createElement("div",{key:p.current,style:{display:"none"}},b.current===void 0?void 0:Qr(b.current,{kvRestored:!1})),Qe.createElement("div",{key:i},g))},function(n,r){return n.kvId===r.kvId});function Bs(n,r){var i,s=lt(),l=lt(),c=bt((i=s.current)===null||i===void 0?void 0:i.scrollTop);return n&&(l.current=c),Qt(function(){r&&s.current!=null&&l.current!=null&&(s.current.scrollTop=l.current)}),s}function Ti(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.filter(function(i){return typeof i=="string"&&i!==""}).join(" ")||void 0}function Ws(){var n=void 0;try{return n=window,n}catch{}try{return n=global,n}catch{}return n}Ws();async function Gs(n,r){const i=await dr(n);r==null||r.add(i);const s=`expansion-${i}.json`,c=await storage.hasItem(s)?await storage.getItem(s):"{}";return JSON.parse(c)}async function Vs(n,r){const i=await dr(n);r==null||r.add(`_${i}`);const s=`expansion-_${i}.json`;return await storage.hasItem(s)?JSON.parse(await storage.getItem(s)):!1}async function Js(n,r){const s=`expansion-_${await dr(n)}.json`;await storage.setItem(s,`${r}`)}async function Ko(n,r){const s=`expansion-${await dr(n)}.json`;await storage.setItem(s,JSON.stringify(r))}async function Ks(){const n=await storage.allKeys();return n==null?[]:n.filter(r=>r.startsWith("expansion-")).map(r=>r.substring(10,r.length-5))}async function Zs(n){n=`expansion-${n}.json`,await storage.removeItem(n)}async function dr(n){const r=await logseq.App.getCurrentGraph();return`${n}-${(r==null?void 0:r.name)??""}`}let ji;function Qs(n){ji=n}async function Ys(n){if(!n)return"";const r=new TextEncoder().encode(n);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-1",r))).map(l=>l.toString(16).padStart(2,"0")).join("")}async function Ii(n){var k,u;n=n.toLowerCase();const r=(await logseq.DB.datascriptQuery(`[:find (pull ?p [:block/name :block/original-name :block/uuid :block/properties])
       :in $ ?name
       :where
       [?t :block/name ?name]
       [?p :block/namespace ?t]]`,`"${n}"`)).flat();r.forEach(O=>{const x=O["original-name"],_=x.lastIndexOf("/");O.displayName=_>-1?x.substring(_+1):x});const i=((k=logseq.settings)==null?void 0:k.hierarchyProperty)??"tags",s=(await logseq.DB.datascriptQuery(i==="tags"?`[:find (pull ?p [:block/name :block/original-name :block/uuid :block/properties])
            :in $ ?name ?equals ?contains
            :where
            [?t :block/name ?name]
            [?p :block/tags ?t]]`:`[:find (pull ?p [:block/name :block/original-name :block/uuid :block/properties])
            :in $ ?name ?equals ?contains
            :where
            [?p :block/original-name]
            [?p :block/properties ?props]
            [(get ?props :${i}) ?v]
            (or [(?equals ?v ?name)] [(?contains ?v ?name)])]`,`"${n}"`,ec,tc)).flat().filter(O=>!O.name.startsWith(`${n}/`)),l=await Xs(n);if(r.length===0&&s.length===0&&l.length===0)return r;const c=r.concat(s).concat(l),[v,p]=_i(O=>{var x;return((x=O.properties)==null?void 0:x.fixed)!=null},c);return v.sort((O,x)=>O.properties.fixed-x.properties.fixed),p.sort((O,x)=>(O.displayName??O["original-name"]).localeCompare(x.displayName??x["original-name"],ji)),v.concat(p).slice(0,((u=logseq.settings)==null?void 0:u.taggedPageLimit)??30)}function Zo(n,r){const i=Date.now();function s(l){const c=parent.document.querySelector(n);c!=null?l(c):Date.now()-i<=r?setTimeout(()=>s(l),100):l(null)}return new Promise(s)}async function Xs(n){const[{uuid:r},{uuid:i}]=(await logseq.DB.datascriptQuery(`[:find (pull ?b [:block/uuid]) (pull ?p [:block/uuid])
      :in $ ?name
      :where
      [?p :block/name ?name]
      [?b :block/page ?p]
      [?b :block/pre-block? true]]`,`"${n}"`))[0]??[{},{}];if(r==null||i==null)return[];let s;try{s=JSON.parse(await logseq.Editor.getBlockProperty(r,"quick-filters")??'""')}catch(v){return console.error(v),[]}if(!s)return[];const l=s.match(/(?:\d+\s+)?(?:\[\[[^\]]+\]\]\s*)+/g);if(l==null)return[];const c=l.map(v=>{const p=Array.from(v.matchAll(/\[\[([^\]]+)\]\]\s*|(\d+)/g)),b=p[0][2]?+p[0][2]:null;return[(b==null?p:p.slice(1)).map(u=>u[1]),b]}).filter(([v,p])=>v.length>0).reduce((v,[p,b])=>(v[p[0]]==null&&(v[p[0]]={},b!=null&&(v[p[0]].properties={fixed:b})),Li(v[p[0]],n,r,i,p,[]),v),{});return Object.values(c)}function Li(n,r,i,s,l,c){n.displayName==null&&(n.name=r,n.blockUUID=i,n.pageUUID=s,n.displayName=l[0],n.filters=[...c,l[0]]),l=l.slice(1),l.length!==0&&(n.subitems==null&&(n.subitems={}),n.subitems[l[0]]==null&&(n.subitems[l[0]]={}),Li(n.subitems[l[0]],r,i,s,l,n.filters))}function ec(n,r){return n.toLowerCase==null?!1:n.toLowerCase()===r.toLowerCase()}function tc(n,r){if(!Array.isArray(n))return!1;const i=r.toLowerCase();return n.some(s=>s.toLowerCase()===i)}var nc=0;function je(n,r,i,s,l,c){var v,p,b={};for(p in r)p=="ref"?v=r[p]:b[p]=r[p];var k={type:n,props:b,key:i,ref:v,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--nc,__source:l,__self:c};if(typeof n=="function"&&(v=n.defaultProps))for(p in v)b[p]===void 0&&(b[p]=v[p]);return G.vnode&&G.vnode(k),k}function Ni({expanded:n,onToggle:r}){return je("span",{class:Ti("kef-ft-fav-arrow",n&&"kef-ft-fav-arrow-expanded"),onClick:r,children:je("svg",{version:"1.1",viewBox:"0 0 128 128",fill:"currentColor",display:"inline-block",class:"h-3 w-3",children:je("path",{d:"M64.177 100.069a7.889 7.889 0 01-5.6-2.316l-55.98-55.98a7.92 7.92 0 010-11.196c3.086-3.085 8.105-3.092 11.196 0l50.382 50.382 50.382-50.382a7.92 7.92 0 0111.195 0c3.086 3.086 3.092 8.104 0 11.196l-55.98 55.98a7.892 7.892 0 01-5.595 2.316z"})})})}function rc({items:n,arrowContainer:r,name:i,readKeys:s}){const[l,c]=In(!1),[v,p]=In();yt(()=>{(async()=>c(await Vs(i,s)))()},[i]),yt(()=>{if(n.length===0){const k=r.querySelectorAll(".kef-ft-fav-arrow");for(const u of k)u.remove()}},[n.length]);function b(k){k.preventDefault(),k.stopPropagation(),c(u=>!u),k.altKey?p(!l):p(void 0),Js(i,!l)}return je(ct,{children:[n.length>0&&xi(je(Ni,{expanded:l,onToggle:b}),r),je($i,{items:n,shown:l,storageKey:i,readKeys:s,allExpansionState:v})]})}function $i({items:n,shown:r,storageKey:i,readKeys:s,allExpansionState:l}){const[c,v]=In(null),p=lt();yt(()=>{v(null)},[n]),yt(()=>{r&&c==null&&(async()=>{p.current=await Gs(i,s);const x={};for(const _ of n)if(_.filters)_.subitems&&(x[_.displayName]={expanded:!!p.current[_.displayName],items:Object.values(_.subitems)});else{const g=await Ii(_["original-name"]);(g==null?void 0:g.length)>0&&(x[_.name]={expanded:!!p.current[_.name],items:g})}b(x),v(x)})()},[r,c,n]),yt(()=>{if(c!=null){const x={...c};b(x),v(x)}},[l]);function b(x){for(const _ of n){const g=_.filters?_.displayName:_.name,A=x[g];A&&(l!=null&&(A.expanded=l),A.allExpansionState=l),l!=null&&p.current!=null&&(p.current[g]=l)}p.current!=null&&Ko(i,p.current)}async function k(x,_){if(x.preventDefault(),x.stopPropagation(),_.filters){let S=(await logseq.Editor.getBlock(_.blockUUID)).content.replace(/\n*^filters:: .*\n*/m,"");S+=`
filters:: ${`{${_.filters.map($=>`"${$.toLowerCase()}" true`).join(", ")}}`}`,await logseq.Editor.updateBlock(_.blockUUID,S)}const g=new URL(`http://localhost${parent.location.hash.substring(6)}`);decodeURIComponent(g.pathname.substring(1))===_.name?_.filters&&(x.shiftKey?logseq.Editor.openInRightSidebar(_.uuid??_.pageUUID):(logseq.Editor.scrollToBlockInPage(_.blockUUID),setTimeout(()=>{logseq.Editor.scrollToBlockInPage(_.name)},50))):x.shiftKey?logseq.Editor.openInRightSidebar(_.uuid??_.pageUUID):logseq.Editor.scrollToBlockInPage(_.name)}function u(x,_){x.preventDefault(),x.stopPropagation();const g=x.altKey,A={...c},S=!A[_].expanded;A[_].expanded=S,g?A[_].allExpansionState=S:A[_].allExpansionState=void 0,v(A),p.current&&(p.current[_]=S,Ko(i,p.current))}function O(x){x.preventDefault(),x.stopPropagation()}return je("div",{class:Ti("kef-ft-fav-list",r&&"kef-ft-fav-expanded"),onMouseDown:O,children:n.map(x=>{var A,S,$,P;const _=x.displayName??x["original-name"],g=x.filters?c==null?void 0:c[x.displayName]:c==null?void 0:c[x.name];return je("div",{children:[je("div",{class:"kef-ft-fav-item",onClick:B=>k(B,x),children:[x.filters?je("div",{class:"kef-ft-fav-item-icon",children:((A=logseq.settings)==null?void 0:A.filterIcon)??""}):(S=x.properties)!=null&&S.icon?je("div",{class:"kef-ft-fav-item-icon",children:($=x.properties)==null?void 0:$.icon}):je("span",{class:"ui__icon tie tie-page kef-ft-fav-item-icon"}),je("div",{class:"kef-ft-fav-item-name",title:_,children:x.filters&&_.toLowerCase().startsWith(`${x.name}/`)?_.substring(x.name.length+1):_}),g&&je(Ni,{expanded:g.expanded,onToggle:B=>x.filters?u(B,x.displayName):u(B,x.name)})]}),((P=g==null?void 0:g.items)==null?void 0:P.length)>0&&je($i,{items:g.items,shown:g.expanded,storageKey:`${i}-${_}`,readKeys:s,allExpansionState:g.allExpansionState})]},x.name)})})}const oc={"It controls which property is used to decide a tag's hierarchy.":"","Define an icon for quick filters.":"","Show arrows only when hovered.":"","Maximum number of tagged pages to display on each level for favorites.":"","Locale used in sorting hierarchical favorites. E.g, zh-CN. Keep it empty to use Logseq's language setting.":"locale zh-CNLogseq"},ic=3e3;let On=null;async function ac(){var v;const{preferredLanguage:n}=await logseq.App.getUserConfigs();Qs(((v=logseq.settings)==null?void 0:v.sortingLocale)||n),await Qa({builtinTranslations:{"zh-CN":oc}}),sc(),logseq.useSettingsSchema([{key:"hierarchyProperty",title:"",type:"string",default:"tags",description:En("It controls which property is used to decide a tag's hierarchy.")},{key:"filterIcon",title:"",type:"string",default:"",description:En("Define an icon for quick filters.")},{key:"hoverArrow",title:"",type:"boolean",default:!1,description:En("Show arrows only when hovered.")},{key:"taggedPageLimit",title:"",type:"number",default:30,description:En("Maximum number of tagged pages to display on each level for favorites.")},{key:"sortingLocale",title:"",type:"string",default:"",description:En("Locale used in sorting hierarchical favorites. E.g, zh-CN. Keep it empty to use Logseq's language setting.")}]);const r=new MutationObserver(async p=>{var u,O;const b=p[0];if((b==null?void 0:b.target)==null)return;const k=b.target;((u=k.classList)!=null&&u.contains("nav-content-item-inner")||(O=k.classList)!=null&&O.contains("favorites"))&&await Gr()}),i=await Zo("#left-sidebar .favorites",300);i!=null&&r.observe(i,{childList:!0,subtree:!0});const s=logseq.DB.onChanged(uc),l=logseq.App.onCurrentGraphChanged(async()=>{window.storage=logseq.Assets.makeSandboxStorage(),await Qo()});await Zo("#left-sidebar .favorite-item",1e3),window.storage=logseq.Assets.makeSandboxStorage();const c=new Set;await Gr(c),setTimeout(async()=>{const b=(await Ks()).filter(k=>!c.has(k));for(const k of b)await Zs(k)},ic),await Qo(),logseq.provideUI({key:"kef-ft-drag-handle",path:"#left-sidebar",template:'<div class="kef-ft-drag-handle"></div>'}),setTimeout(()=>{On=parent.document.querySelector("#left-sidebar .kef-ft-drag-handle"),On.addEventListener("pointerdown",Yo)},0),logseq.beforeunload(async()=>{l(),s(),r.disconnect(),On==null||On.removeEventListener("pointerdown",Yo)}),console.log("#favorite-tree loaded")}function sc(){var n;logseq.provideStyle({key:"kef-ft-fav",style:`
      .kef-ft-fav-list {
        padding-left: 24px;
        display: none;
      }
      .favorite-item > div > div > .kef-ft-fav-list {
        padding-left: 33px;
      }
      .favorite-item > div > div > .kef-ft-fav-list > div > .kef-ft-fav-item {
        padding-left: 24px;
      }
      .kef-ft-fav-expanded {
        display: block;
      }
      .kef-ft-fav-arrow {
        flex: 0 0 auto;
        padding: 4px 20px 4px 10px;
        margin-right: -20px;
        opacity: ${(n=logseq.settings)!=null&&n.hoverArrow?0:1};
        transition: opacity 0.3s;
      }
      :is(.favorite-item, .recent-item):hover > a > .kef-ft-fav-arrow,
      .kef-ft-fav-item:hover > .kef-ft-fav-arrow {
        opacity: 1;
      }
      .kef-ft-fav-arrow svg {
        transform: rotate(90deg) scale(0.8);
        transition: transform 0.04s linear;
      }
      .kef-ft-fav-arrow-expanded svg {
        transform: rotate(0deg) scale(0.8);
      }
      .kef-ft-fav-item {
        display: flex;
        align-items: center;
        padding-left: 20px;
        padding-right: 24px;
        line-height: 28px;
        color: var(--ls-header-button-background);
        cursor: pointer;
      }
      .kef-ft-fav-item:hover {
        background-color: var(--ls-quaternary-background-color);
      }
      .kef-ft-fav-item-icon {
        flex: 0 0 auto;
        margin-right: 5px;
        width: 16px;
        text-align: center;
      }
      .kef-ft-fav-item-name {
        flex: 1 1 auto;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
      }

      .kef-ft-drag-handle {
        content: "";
        position: absolute;
        top: 0;
        bottom: 0;
        right: 0;
        width: 4px;
        z-index: 10;
      }
      .kef-ft-drag-handle:hover,
      .kef-ft-dragging .kef-ft-drag-handle {
        cursor: col-resize;
        background: var(--ls-active-primary-color);
      }
      .kef-ft-dragging {
        cursor: col-resize;
      }
      .kef-ft-dragging :is(#left-sidebar, #main-content-container) {
        pointer-events: none;
      }
    `})}async function Gr(n){const r=parent.document.querySelectorAll("#left-sidebar .favorite-item");for(const i of r){const s=await Ii(i.dataset.ref);cc(i,s??[],n)}}async function cc(n,r,i){const s=`kef-ft-f-${await Ys(n.dataset.ref)}`;parent.document.getElementById(s)==null&&logseq.provideUI({key:s,path:`.favorite-item[data-ref="${n.dataset.ref}"]`,template:`<div id="${s}"></div>`}),setTimeout(()=>{const l=n.querySelector("a"),c=l.querySelectorAll(".kef-ft-fav-arrow");for(const v of c)v.remove();lc(s,r,l,n.dataset.ref,i)},0)}function lc(n,r,i,s,l){const c=parent.document.getElementById(n);Vt(je(rc,{items:r,arrowContainer:i,name:s,readKeys:l}),c)}async function uc({blocks:n,txData:r,txMeta:i}){fc(r)&&await Gr()}async function Qo(){const n=await logseq.App.getCurrentGraph(),r=parent.localStorage.getItem(`kef-ft-lsw-${n.name}`);r&&parent.document.documentElement.style.setProperty("--ls-left-sidebar-width",`${+r}px`)}function fc(n){var v;const r=((v=logseq.settings)==null?void 0:v.hierarchyProperty)??"tags";let i,s,l,c;for(const[p,b,k,u,O]of n){if(b==="block/original-name"||r==="tags"&&b==="block/tags")return!0;b==="block/properties"&&(k[r]&&(O?s=k[r]:i=k[r]),k.quickFilters&&(O?c=k.quickFilters:l=k.quickFilters))}return!(!i&&!s&&!l&&!c||(i==null?void 0:i.toString())===(s==null?void 0:s.toString())&&l===c)}function Yo(n){n.preventDefault(),parent.document.documentElement.classList.add("kef-ft-dragging"),parent.document.addEventListener("pointermove",Pi),parent.document.addEventListener("pointerup",pr),parent.document.addEventListener("pointercancel",pr)}function pr(n){n.preventDefault(),parent.document.removeEventListener("pointermove",Pi),parent.document.removeEventListener("pointerup",pr),parent.document.removeEventListener("pointercancel",pr),parent.document.documentElement.classList.remove("kef-ft-dragging");const r=Math.max(150,n.clientX);parent.document.documentElement.style.setProperty("--ls-left-sidebar-width",`${r}px`),(async()=>{const i=await logseq.App.getCurrentGraph();parent.localStorage.setItem(`kef-ft-lsw-${i.name}`,`${r}`)})()}function Pi(n){n.preventDefault(),pc(Math.max(150,n.clientX))}const pc=ls(n=>{parent.document.documentElement.style.setProperty("--ls-left-sidebar-width",`${n}px`)},12);logseq.ready(ac).catch(console.error);
